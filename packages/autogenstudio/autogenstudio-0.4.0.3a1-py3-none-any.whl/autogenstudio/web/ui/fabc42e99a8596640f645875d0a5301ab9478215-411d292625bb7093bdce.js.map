{"version":3,"file":"fabc42e99a8596640f645875d0a5301ab9478215-411d292625bb7093bdce.js","mappings":"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","sources":["webpack://autogentstudio/./src/components/views/gallery/store.tsx","webpack://autogentstudio/./src/components/views/gallery/utils.ts","webpack://autogentstudio/./node_modules/lucide-react/dist/esm/icons/brain.js","webpack://autogentstudio/./node_modules/lucide-react/dist/esm/icons/save.js","webpack://autogentstudio/./node_modules/lucide-react/dist/esm/icons/timer.js","webpack://autogentstudio/./node_modules/lucide-react/dist/esm/icons/users.js","webpack://autogentstudio/./node_modules/lucide-react/dist/esm/icons/wrench.js"],"sourcesContent":["import { create } from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport { Gallery } from \"./types\";\nimport {\n  AgentConfig,\n  Component,\n  ModelConfig,\n  TeamConfig,\n  TerminationConfig,\n  ToolConfig,\n} from \"../../types/datamodel\";\nimport { defaultGallery } from \"./utils\";\n\ninterface GalleryStore {\n  galleries: Gallery[];\n  defaultGalleryId: string;\n  selectedGalleryId: string | null;\n\n  addGallery: (gallery: Gallery) => void;\n  updateGallery: (id: string, gallery: Partial<Gallery>) => void;\n  removeGallery: (id: string) => void;\n  setDefaultGallery: (id: string) => void;\n  selectGallery: (id: string) => void;\n  getDefaultGallery: () => Gallery;\n  getSelectedGallery: () => Gallery | null;\n  syncGallery: (id: string) => Promise<void>;\n  getLastSyncTime: (id: string) => string | null;\n  getGalleryComponents: () => {\n    teams: Component<TeamConfig>[];\n    components: {\n      agents: Component<AgentConfig>[];\n      models: Component<ModelConfig>[];\n      tools: Component<ToolConfig>[];\n      terminations: Component<TerminationConfig>[];\n    };\n  };\n}\n\nexport const useGalleryStore = create<GalleryStore>()(\n  persist(\n    (set, get) => ({\n      galleries: [defaultGallery],\n      defaultGalleryId: defaultGallery.id,\n      selectedGalleryId: defaultGallery.id,\n\n      addGallery: (gallery) =>\n        set((state) => {\n          if (state.galleries.find((g) => g.id === gallery.id)) return state;\n          return {\n            galleries: [gallery, ...state.galleries],\n            defaultGalleryId: state.defaultGalleryId || gallery.id,\n            selectedGalleryId: state.selectedGalleryId || gallery.id,\n          };\n        }),\n\n      updateGallery: (id, updates) =>\n        set((state) => ({\n          galleries: state.galleries.map((gallery) =>\n            gallery.id === id\n              ? {\n                  ...gallery,\n                  ...updates,\n                  metadata: {\n                    ...gallery.metadata,\n                    ...updates.metadata,\n                    updated_at: new Date().toISOString(),\n                  },\n                }\n              : gallery\n          ),\n        })),\n\n      removeGallery: (id) =>\n        set((state) => {\n          if (state.galleries.length <= 1) return state;\n\n          const newGalleries = state.galleries.filter((g) => g.id !== id);\n          const updates: Partial<GalleryStore> = {\n            galleries: newGalleries,\n          };\n\n          if (id === state.defaultGalleryId) {\n            updates.defaultGalleryId = newGalleries[0].id;\n          }\n\n          if (id === state.selectedGalleryId) {\n            updates.selectedGalleryId = newGalleries[0].id;\n          }\n\n          return updates;\n        }),\n\n      setDefaultGallery: (id) =>\n        set((state) => {\n          const gallery = state.galleries.find((g) => g.id === id);\n          if (!gallery) return state;\n          return { defaultGalleryId: id };\n        }),\n\n      selectGallery: (id) =>\n        set((state) => {\n          const gallery = state.galleries.find((g) => g.id === id);\n          if (!gallery) return state;\n          return { selectedGalleryId: id };\n        }),\n\n      getDefaultGallery: () => {\n        const { galleries, defaultGalleryId } = get();\n        return galleries.find((g) => g.id === defaultGalleryId)!;\n      },\n\n      getSelectedGallery: () => {\n        const { galleries, selectedGalleryId } = get();\n        if (!selectedGalleryId) return null;\n        return galleries.find((g) => g.id === selectedGalleryId) || null;\n      },\n\n      syncGallery: async (id) => {\n        const gallery = get().galleries.find((g) => g.id === id);\n        if (!gallery?.url) return;\n\n        try {\n          const response = await fetch(gallery.url);\n          const remoteGallery = await response.json();\n\n          get().updateGallery(id, {\n            ...remoteGallery,\n            id, // preserve local id\n            metadata: {\n              ...remoteGallery.metadata,\n              lastSynced: new Date().toISOString(),\n            },\n          });\n        } catch (error) {\n          console.error(\"Failed to sync gallery:\", error);\n          throw error;\n        }\n      },\n\n      getLastSyncTime: (id) => {\n        const gallery = get().galleries.find((g) => g.id === id);\n        return gallery?.metadata.lastSynced ?? null;\n      },\n\n      getGalleryComponents: () => {\n        const defaultGallery = get().getDefaultGallery();\n        return {\n          teams: defaultGallery.items.teams,\n          components: defaultGallery.items.components,\n        };\n      },\n    }),\n    {\n      name: \"gallery-storage-v1\",\n    }\n  )\n);\n","import { Gallery } from \"./types\";\n\n// Load and parse the gallery JSON file\nconst loadGalleryFromJson = (): Gallery => {\n  try {\n    // You can adjust the path to your JSON file as needed\n    const galleryJson = require(\"./default_gallery.json\");\n    return galleryJson as Gallery;\n  } catch (error) {\n    console.error(\"Error loading gallery JSON:\", error);\n    throw error;\n  }\n};\n\nexport const defaultGallery: Gallery = loadGalleryFromJson();\n","/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Brain = createLucideIcon(\"Brain\", [\n  [\n    \"path\",\n    {\n      d: \"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z\",\n      key: \"l5xja\"\n    }\n  ],\n  [\n    \"path\",\n    {\n      d: \"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z\",\n      key: \"ep3f8r\"\n    }\n  ],\n  [\"path\", { d: \"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4\", key: \"1p4c4q\" }],\n  [\"path\", { d: \"M17.599 6.5a3 3 0 0 0 .399-1.375\", key: \"tmeiqw\" }],\n  [\"path\", { d: \"M6.003 5.125A3 3 0 0 0 6.401 6.5\", key: \"105sqy\" }],\n  [\"path\", { d: \"M3.477 10.896a4 4 0 0 1 .585-.396\", key: \"ql3yin\" }],\n  [\"path\", { d: \"M19.938 10.5a4 4 0 0 1 .585.396\", key: \"1qfode\" }],\n  [\"path\", { d: \"M6 18a4 4 0 0 1-1.967-.516\", key: \"2e4loj\" }],\n  [\"path\", { d: \"M19.967 17.484A4 4 0 0 1 18 18\", key: \"159ez6\" }]\n]);\n\nexport { Brain as default };\n//# sourceMappingURL=brain.js.map\n","/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Save = createLucideIcon(\"Save\", [\n  [\n    \"path\",\n    {\n      d: \"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z\",\n      key: \"1c8476\"\n    }\n  ],\n  [\"path\", { d: \"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7\", key: \"1ydtos\" }],\n  [\"path\", { d: \"M7 3v4a1 1 0 0 0 1 1h7\", key: \"t51u73\" }]\n]);\n\nexport { Save as default };\n//# sourceMappingURL=save.js.map\n","/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Timer = createLucideIcon(\"Timer\", [\n  [\"line\", { x1: \"10\", x2: \"14\", y1: \"2\", y2: \"2\", key: \"14vaq8\" }],\n  [\"line\", { x1: \"12\", x2: \"15\", y1: \"14\", y2: \"11\", key: \"17fdiu\" }],\n  [\"circle\", { cx: \"12\", cy: \"14\", r: \"8\", key: \"1e1u0o\" }]\n]);\n\nexport { Timer as default };\n//# sourceMappingURL=timer.js.map\n","/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Users = createLucideIcon(\"Users\", [\n  [\"path\", { d: \"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\", key: \"1yyitq\" }],\n  [\"circle\", { cx: \"9\", cy: \"7\", r: \"4\", key: \"nufk8\" }],\n  [\"path\", { d: \"M22 21v-2a4 4 0 0 0-3-3.87\", key: \"kshegd\" }],\n  [\"path\", { d: \"M16 3.13a4 4 0 0 1 0 7.75\", key: \"1da9ce\" }]\n]);\n\nexport { Users as default };\n//# sourceMappingURL=users.js.map\n","/**\n * @license lucide-react v0.460.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Wrench = createLucideIcon(\"Wrench\", [\n  [\n    \"path\",\n    {\n      d: \"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z\",\n      key: \"cbrjhi\"\n    }\n  ]\n]);\n\nexport { Wrench as default };\n//# sourceMappingURL=wrench.js.map\n"],"names":["useGalleryStore","create","persist","set","get","galleries","defaultGallery","defaultGalleryId","id","selectedGalleryId","addGallery","gallery","state","find","g","concat","_toConsumableArray","updateGallery","updates","map","metadata","updated_at","Date","toISOString","removeGallery","length","newGalleries","filter","setDefaultGallery","selectGallery","getDefaultGallery","getSelectedGallery","syncGallery","async","url","response","fetch","remoteGallery","json","lastSynced","error","console","getLastSyncTime","_gallery$metadata$las","getGalleryComponents","teams","items","components","name","loadGalleryFromJson","require","Brain","d","key","Save","Timer","x1","x2","y1","y2","cx","cy","r","Users","Wrench"],"sourceRoot":""}