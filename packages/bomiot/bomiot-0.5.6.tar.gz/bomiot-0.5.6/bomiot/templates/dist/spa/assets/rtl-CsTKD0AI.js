import{c as p,a as s,h as v,d as G,C as se,D as le,b5 as ue,R as re,E as ie,r as M,F as ce,al as de,G as fe,b6 as ge,H as ve,b7 as he,w as A,b8 as me,z as be,b9 as ye,ba as R,M as Be,bb as Se,T as pe,e as Ce,g as Oe,bc as Pe,bd as Te,be as xe,B as ke,a0 as qe}from"./index-GAp2MCHZ.js";import{g as Ee,v as H,i as we,j as De,k as Fe,p as Q,r as j,s as Me,l as Ae}from"./QItemLabel-GcyUNhno.js";const je=p({name:"QBtnGroup",props:{unelevated:Boolean,outline:Boolean,flat:Boolean,rounded:Boolean,square:Boolean,push:Boolean,stretch:Boolean,glossy:Boolean,spread:Boolean},setup(e,{slots:l}){const u=s(()=>{const r=["unelevated","outline","flat","rounded","square","push","stretch","glossy"].filter(o=>e[o]===!0).map(o=>`q-btn-group--${o}`).join(" ");return`q-btn-group row no-wrap${r.length!==0?" "+r:""}`+(e.spread===!0?" q-btn-group--spread":" inline")});return()=>v("div",{class:u.value},G(l.default))}}),Ge=p({name:"QSpace",setup(){const e=v("div",{class:"q-space"});return()=>e}}),Ke=p({name:"QMenu",inheritAttrs:!1,props:{...Ee,...se,...le,...ue,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:H},self:{type:String,validator:H},offset:{type:Array,validator:we},scrollTarget:re,touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...ie,"click","escapeKey"],setup(e,{slots:l,emit:u,attrs:r}){let o=null,g,c,h;const C=Oe(),{proxy:m}=C,{$q:a}=m,n=M(null),i=M(!1),K=s(()=>e.persistent!==!0&&e.noRouteDismiss!==!0),L=ce(e,a),{registerTick:U,removeTick:W}=de(),{registerTimeout:O}=fe(),{transitionProps:$,transitionStyle:z}=ge(e),{localScrollTarget:P,changeScrollEvent:_,unconfigureScrollTarget:I}=De(e,D),{anchorEl:d,canShow:N}=Fe({showing:i}),{hide:T}=ve({showing:i,canShow:N,handleShow:Z,handleHide:ee,hideOnRouteChange:K,processOnMount:!0}),{showPortal:x,hidePortal:k,renderPortal:J}=he(C,n,oe,"menu"),b={anchorEl:d,innerRef:n,onClickOutside(t){if(e.persistent!==!0&&i.value===!0)return T(t),(t.type==="touchstart"||t.target.classList.contains("q-dialog__backdrop"))&&ke(t),!0}},q=s(()=>Q(e.anchor||(e.cover===!0?"center middle":"bottom start"),a.lang.rtl)),V=s(()=>e.cover===!0?q.value:Q(e.self||"top start",a.lang.rtl)),X=s(()=>(e.square===!0?" q-menu--square":"")+(L.value===!0?" q-menu--dark q-dark":"")),Y=s(()=>e.autoClose===!0?{onClick:te}:{}),E=s(()=>i.value===!0&&e.persistent!==!0);A(E,t=>{t===!0?(Te(B),Ae(b)):(R(B),j(b))});function y(){Pe(()=>{let t=n.value;t&&t.contains(document.activeElement)!==!0&&(t=t.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||t.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||t.querySelector("[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))})}function Z(t){if(o=e.noRefocus===!1?document.activeElement:null,me(F),x(),D(),g=void 0,t!==void 0&&(e.touchPosition||e.contextMenu)){const S=be(t);if(S.left!==void 0){const{top:ae,left:ne}=d.value.getBoundingClientRect();g={left:S.left-ne,top:S.top-ae}}}c===void 0&&(c=A(()=>a.screen.width+"|"+a.screen.height+"|"+e.self+"|"+e.anchor+"|"+a.lang.rtl,f)),e.noFocus!==!0&&document.activeElement.blur(),U(()=>{f(),e.noFocus!==!0&&y()}),O(()=>{a.platform.is.ios===!0&&(h=e.autoClose,n.value.click()),f(),x(!0),u("show",t)},e.transitionDuration)}function ee(t){W(),k(),w(!0),o!==null&&(t===void 0||t.qClickOutside!==!0)&&(((t&&t.type.indexOf("key")===0?o.closest('[tabindex]:not([tabindex^="-"])'):void 0)||o).focus(),o=null),O(()=>{k(!0),u("hide",t)},e.transitionDuration)}function w(t){g=void 0,c!==void 0&&(c(),c=void 0),(t===!0||i.value===!0)&&(ye(F),I(),j(b),R(B)),t!==!0&&(o=null)}function D(){(d.value!==null||e.scrollTarget!==void 0)&&(P.value=Be(d.value,e.scrollTarget),_(P.value,f))}function te(t){h!==!0?(Se(m,t),u("click",t)):h=!1}function F(t){E.value===!0&&e.noFocus!==!0&&xe(n.value,t.target)!==!0&&y()}function B(t){u("escapeKey"),T(t)}function f(){Me({targetEl:n.value,offset:e.offset,anchorEl:d.value,anchorOrigin:q.value,selfOrigin:V.value,absoluteOffset:g,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function oe(){return v(pe,$.value,()=>i.value===!0?v("div",{role:"menu",...r,ref:n,tabindex:-1,class:["q-menu q-position-engine scroll"+X.value,r.class],style:[r.style,z.value],...Y.value},G(l.default)):null)}return Ce(w),Object.assign(m,{focus:y,updatePosition:f}),J}}),Le=qe("language",{state:()=>({langData:"en-US",langOptionsData:[{value:"en-US",label:"English"},{value:"zh-CN",label:"中文简体"}]}),getters:{langGet(e){return e.langData},langOptionGet(e){return e.langOptionsData}},actions:{LangChange:function(e){this.langData=e},langOptionsChange(e){this.lanOptionsData=e}},persist:{enable:!0}});let Re=!1;{const e=document.createElement("div");e.setAttribute("dir","rtl"),Object.assign(e.style,{width:"1px",height:"1px",overflow:"auto"});const l=document.createElement("div");Object.assign(l.style,{width:"1000px",height:"1px"}),document.body.appendChild(e),e.appendChild(l),e.scrollLeft=-1e3,Re=e.scrollLeft>=0,e.remove()}export{Ke as Q,je as a,Ge as b,Re as r,Le as u};
