{% extends "base.html" %}

{% block content %}
<h2 class="text-2xl font-semibold mb-4">Logged Requests</h2>

<!-- Search Form -->
<form id="search-form" class="mb-6" hx-post="/search" hx-target="#request-list" hx-swap="innerHTML">
  <div class="flex flex-wrap -mx-2">
    <div class="w-full md:w-1/4 px-2 mb-4 md:mb-0">
      <input type="text" name="method" placeholder="Method" class="w-full border rounded px-3 py-2" />
    </div>
    <div class="w-full md:w-1/4 px-2 mb-4 md:mb-0">
      <input type="text" name="url" placeholder="URL contains..." class="w-full border rounded px-3 py-2" />
    </div>
    <div class="w-full md:w-1/4 px-2 mb-4 md:mb-0">
      <input type="text" name="start_time" placeholder="Start Time (YYYY-MM-DD HH:MM:SS)" class="w-full border rounded px-3 py-2" />
    </div>
    <div class="w-full md:w-1/4 px-2 mb-4 md:mb-0">
      <input type="text" name="end_time" placeholder="End Time (YYYY-MM-DD HH:MM:SS)" class="w-full border rounded px-3 py-2" />
    </div>
    <div class="w-full md:w-1/4 px-2">
      <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded w-full">Search</button>
    </div>
  </div>
</form>

<!-- Request List -->
<div id="request-list">
  {% include "request_list.html" %}
</div>

<!-- Request Details -->
<div id="details" class="mt-6">
  <!-- Request details will be loaded here via HTMX -->
</div>
{% endblock %}
