(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{1507:function(e,t,a){Promise.resolve().then(a.bind(a,84523))},84523:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return eh}});var n,o,i=a(57437);a(47960);var r=a(76777),l=a.n(r);a(2446);var s=a(2265),c=a(63861),p=a(49656);let d=new Map([["bold",s.createElement(s.Fragment,null,s.createElement("path",{d:"M168.49,191.51a12,12,0,0,1,0,17l-32,32a12,12,0,0,1-17,0l-32-32a12,12,0,0,1,17-17L116,203V53L104.49,64.49a12,12,0,1,1-17-17l32-32a12,12,0,0,1,17,0l32,32a12,12,0,0,1-17,17L140,53V203l11.51-11.52A12,12,0,0,1,168.49,191.51Z"}))],["duotone",s.createElement(s.Fragment,null,s.createElement("path",{d:"M160,56V200l-32,32L96,200V56l32-32Z",opacity:"0.2"}),s.createElement("path",{d:"M165.66,194.34a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,212.69V43.31L101.66,61.66A8,8,0,0,1,90.34,50.34l32-32a8,8,0,0,1,11.32,0l32,32a8,8,0,0,1-11.32,11.32L136,43.31V212.69l18.34-18.35A8,8,0,0,1,165.66,194.34Z"}))],["fill",s.createElement(s.Fragment,null,s.createElement("path",{d:"M167.39,196.94a8,8,0,0,1-1.73,8.72l-32,32a8,8,0,0,1-11.32,0l-32-32A8,8,0,0,1,96,192h24V64H96a8,8,0,0,1-5.66-13.66l32-32a8,8,0,0,1,11.32,0l32,32A8,8,0,0,1,160,64H136V192h24A8,8,0,0,1,167.39,196.94Z"}))],["light",s.createElement(s.Fragment,null,s.createElement("path",{d:"M164.24,195.76a6,6,0,0,1,0,8.48l-32,32a6,6,0,0,1-8.48,0l-32-32a6,6,0,0,1,8.48-8.48L122,217.51v-179L100.24,60.24a6,6,0,0,1-8.48-8.48l32-32a6,6,0,0,1,8.48,0l32,32a6,6,0,1,1-8.48,8.48L134,38.49v179l21.76-21.75A6,6,0,0,1,164.24,195.76Z"}))],["regular",s.createElement(s.Fragment,null,s.createElement("path",{d:"M165.66,194.34a8,8,0,0,1,0,11.32l-32,32a8,8,0,0,1-11.32,0l-32-32a8,8,0,0,1,11.32-11.32L120,212.69V43.31L101.66,61.66A8,8,0,0,1,90.34,50.34l32-32a8,8,0,0,1,11.32,0l32,32a8,8,0,0,1-11.32,11.32L136,43.31V212.69l18.34-18.35A8,8,0,0,1,165.66,194.34Z"}))],["thin",s.createElement(s.Fragment,null,s.createElement("path",{d:"M162.83,197.17a4,4,0,0,1,0,5.66l-32,32a4,4,0,0,1-5.66,0l-32-32a4,4,0,0,1,5.66-5.66L124,222.34V33.66L98.83,58.83a4,4,0,0,1-5.66-5.66l32-32a4,4,0,0,1,5.66,0l32,32a4,4,0,0,1-5.66,5.66L132,33.66V222.34l25.17-25.17A4,4,0,0,1,162.83,197.17Z"}))]]);var m=Object.defineProperty,h=Object.defineProperties,u=Object.getOwnPropertyDescriptors,g=Object.getOwnPropertySymbols,f=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,w=(e,t,a)=>t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,v=(e,t)=>{for(var a in t||(t={}))f.call(t,a)&&w(e,a,t[a]);if(g)for(var a of g(t))x.call(t,a)&&w(e,a,t[a]);return e},b=(e,t)=>h(e,u(t));let y=(0,s.forwardRef)((e,t)=>s.createElement(p.Z,b(v({ref:t},e),{weights:d})));y.displayName="ArrowsVertical";var j=a(66070),L=a(64670),M=a.n(L),E=a(42225),S=a(5477);(n=o||(o={})).Paint="Paint",n.Travel="Travel",n.Health="Health",n.Learning="Learning",n.Math="Mathematics",n.Language="Language",n.PopCulture="Pop Culture",n.Food="Food",n.Interviewing="Interviewing",n.Home="Home",n.Fun="Fun",n.Code="Code",n.Finance="Finance",n.Document="Document",n.Image="Image";let I={};I.Paint="indigo",I.Travel="yellow",I.Health="teal",I.Learning="purple",I.Language="blue",I["Pop Culture"]="red",I.Food="yellow",I.Interviewing="orange",I.Home="green",I.Fun="fuchsia",I.Code="teal",I.Finance="green",I.Mathematics="blue",I.Image="red",I.Document="orange";let C="orange";function k(e,t){return"Paint"===e?(0,E.TI)("Palette",t,"w-6","h-6"):"Pop Culture"===e?(0,E.TI)("Confetti",t,"w-6","h-6"):"Travel"===e?(0,E.TI)("Jeep",t,"w-6","h-6"):"Learning"===e?(0,E.TI)("Book",t,"w-6","h-6"):"Health"===e?(0,E.TI)("Asclepius",t,"w-6","h-6"):"Fun"===e?(0,E.TI)("Island",t,"w-6","h-6"):"Home"===e?(0,E.TI)("House",t,"w-6","h-6"):"Language"===e?(0,E.TI)("Translate",t,"w-6","h-6"):"Code"===e?(0,E.TI)("Code",t,"w-6","h-6"):"Food"===e?(0,E.TI)("BowlFood",t,"w-6","h-6"):"Interviewing"===e?(0,E.TI)("Lectern",t,"w-6","h-6"):"Finance"===e?(0,E.TI)("Wallet",t,"w-6","h-6"):"Mathematics"===e?(0,E.TI)("MathOperations",t,"w-6","h-6"):"Image"===e?(0,E.TI)("Image",t,"w-6","h-6"):"Document"===e?(0,E.TI)("File",t,"w-6","h-6"):(0,E.TI)("Lightbulb",t,"w-6","h-6")}let H=[{type:"Document",actionTagline:"Analyze document",color:I.Document||C,focus:S.$.FILE,intent:"Read this document and explain"},{type:"Code",actionTagline:"Write code",color:I.Code||C,focus:S.$.MESSAGE,intent:"Write a program that"},{type:"Learning",actionTagline:"Explain concept",color:I.Learning||C,focus:S.$.MESSAGE,intent:"I want to understand a concept"},{type:"Paint",actionTagline:"Create image",color:I.Paint||C,focus:S.$.MESSAGE,intent:"Paint a picture of"},{type:"Language",actionTagline:"Translate text",color:I.Language||C,focus:S.$.MESSAGE,intent:"Translate this text"},{type:"Finance",actionTagline:"Explain finance",color:I.Finance||C,focus:S.$.MESSAGE,intent:"Help me build mental models for finance"},{type:"Mathematics",actionTagline:"Explain math",color:I.Mathematics||C,focus:S.$.MESSAGE,intent:"Help me understand the math behind"},{type:"Image",actionTagline:"Analyze image",color:I.Image||C,focus:S.$.FILE,intent:"Explain the significance of this image"},{type:"Health",actionTagline:"Improve health",color:I.Health||C,focus:S.$.MESSAGE,intent:"Help me improve my health"}],Z={Paint:[{prompt:"Paint a picture of a sunset but it's made of stained glass tiles."},{prompt:"Paint a futuristic cityscape with flying cars."},{prompt:"Paint a neon-lit street scene with reflections in the rain."},{prompt:"Paint a portrait of a person with a unique hairstyle."},{prompt:"Paint a landscape of a forest with a hidden waterfall."}],Travel:[{prompt:"Search for the best attractions in Austria Hungary."},{prompt:"Find the top-rated coffee shops in Seattle."},{prompt:"Research the best hiking trails in the Swiss Alps."},{prompt:"What is the best time of year to visit Bali?"},{prompt:"Find the best hidden gems in Nairobi."}],Health:[{prompt:"Explain to me how to improve my posture."},{prompt:"Tell me how what I eat affects my insulin levels."},{prompt:"Suggest healthy meal prep ideas for a busy work week."},{prompt:"Recommend good exercises to improve my flexibility."},{prompt:"Explain the benefits of a plant-based diet"}],Learning:[{prompt:"/research look up how Alpha Fold works and explain it to me."},{prompt:"Explain the key equations of general relativity."},{prompt:"Explain the concept of 'machine learning' in simple terms."},{prompt:"What are the key principles of Stoicism?"},{prompt:"/research what are the causes behind the breakthroughs in AI in the last 5 years."}],Language:[{prompt:"Translate the following text into Spanish: 'Hello, how are you?'"},{prompt:"Tell me how to greet someone in Arabic."},{prompt:"Explain the difference between the words 'ser' and 'estar' in Spanish."},{prompt:"Translate the following text into French: 'Where is the nearest metro station?'"},{prompt:"Translate the following text into Japanese: 'I am learning Japanese.'"}],"Pop Culture":[{prompt:"Find the best-rated science fiction books of the last decade."},{prompt:"Research the latest trends in K-pop and its global influence."},{prompt:"Explain the plot of the movie 'Doctor Zhivago' in detail."},{prompt:"What fashion is trending in jackets this season?"},{prompt:"Find the best indie movies of the last year"}],Food:[{prompt:"Find the best empanada recipe from Colombia."},{prompt:"Suggest a healthy alternative to a popular fast food dish."},{prompt:"Find the best recipe for a vegan chocolate cake."},{prompt:"Suggest a recipe for a quick and easy weeknight dinner."},{prompt:"Create a diagram that explains how to make a traditional Italian lasagna."}],Interviewing:[{prompt:"Create interview prep questions for a consulting job."},{prompt:"What information should I include in a CV for a PhD application?"},{prompt:"Suggest questions to ask during a job interview."},{prompt:"What are the best ways to prepare for a technical interview?"},{prompt:"How can I improve my public speaking skills for an interview?"}],Home:[{prompt:"Recommend plants that can grow well indoors."},{prompt:"Suggest ways to reduce plastic waste in daily life."},{prompt:"Create a list of eco-friendly home cleaning products."},{prompt:"Suggest ways to make a small apartment feel more spacious."},{prompt:"Recommend ways to reduce energy consumption in a home."}],Fun:[{prompt:"List creative date ideas for couples on a budget."},{prompt:"Create a list of fun activities for a family game night."},{prompt:"Give me three questions that can help me get to know someone better."},{prompt:"Suggest fun activities for a group of friends on a rainy day."},{prompt:"How can I improve my drawing skills?"}],Code:[{prompt:"Teach me how to write a simple 'Hello World' program in Python."},{prompt:"Write a single page application using vanilla HTML, CSS, and JavaScript that displays a list of items."},{prompt:"Explain the concept of recursion with a simple coding example."},{prompt:"Create a simple calculator app using React."},{prompt:"Write a function that takes an array of numbers and returns the sum of all the numbers."}],Finance:[{prompt:"Create a chart to explain the concept of compound interest and its importance in long-term savings."},{prompt:"Provide an overview of different types of retirement accounts (e.g., 401(k), IRA, Roth IRA)."},{prompt:"Explain the concept of diversification and its importance in investing."},{prompt:"Create a budgeting plan for someone who wants to save money for a vacation."},{prompt:"Explain the difference between a stock and a bond."}],Mathematics:[{prompt:"Create a series of questions to help a student discover the principles of basic economics."},{prompt:"Develop a hands-on experiment to demonstrate the concept of density to middle schoolers."},{prompt:"Explain the concept of a derivative and its applications in real life."},{prompt:"Create a lesson plan to teach students about the Pythagorean theorem."},{prompt:"Explain the concept of a limit in calculus and its importance in mathematics."}],Image:[{prompt:"Explain what is happening in this photograph"},{prompt:"Show me how I can improve this UI design"},{prompt:"Explain the significance of this historical painting"},{prompt:"Can you explain this physics diagram to me?"},{prompt:"Explain this meme to me"}],Document:[{prompt:"Summarize the key concepts in this document."},{prompt:"Provide a detailed explanation about the topic of this document."},{prompt:"Create a visual representation of the information in this document."},{prompt:"Find the main arguments in this document."},{prompt:"Explain the relevance of this document to various other disciplines."}]},N=new Map([["bold",s.createElement(s.Fragment,null,s.createElement("path",{d:"M252,152a12,12,0,0,1-12,12H228v12a12,12,0,0,1-24,0V164H192a12,12,0,0,1,0-24h12V128a12,12,0,0,1,24,0v12h12A12,12,0,0,1,252,152ZM56,76H68V88a12,12,0,0,0,24,0V76h12a12,12,0,1,0,0-24H92V40a12,12,0,0,0-24,0V52H56a12,12,0,0,0,0,24ZM184,188h-4v-4a12,12,0,0,0-24,0v4h-4a12,12,0,0,0,0,24h4v4a12,12,0,0,0,24,0v-4h4a12,12,0,0,0,0-24ZM222.14,82.83,82.82,222.14a20,20,0,0,1-28.28,0L33.85,201.46a20,20,0,0,1,0-28.29L173.17,33.86a20,20,0,0,1,28.28,0l20.69,20.68A20,20,0,0,1,222.14,82.83ZM159,112,144,97,53.65,187.31l15,15Zm43.31-43.31-15-15L161,80l15,15Z"}))],["duotone",s.createElement(s.Fragment,null,s.createElement("path",{d:"M176,112,74.34,213.66a8,8,0,0,1-11.31,0L42.34,193a8,8,0,0,1,0-11.31L144,80Z",opacity:"0.2"}),s.createElement("path",{d:"M248,152a8,8,0,0,1-8,8H224v16a8,8,0,0,1-16,0V160H192a8,8,0,0,1,0-16h16V128a8,8,0,0,1,16,0v16h16A8,8,0,0,1,248,152ZM56,72H72V88a8,8,0,0,0,16,0V72h16a8,8,0,0,0,0-16H88V40a8,8,0,0,0-16,0V56H56a8,8,0,0,0,0,16ZM184,192h-8v-8a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16h8v8a8,8,0,0,0,16,0v-8h8a8,8,0,0,0,0-16ZM219.31,80,80,219.31a16,16,0,0,1-22.62,0L36.68,198.63a16,16,0,0,1,0-22.63L176,36.69a16,16,0,0,1,22.63,0l20.68,20.68A16,16,0,0,1,219.31,80Zm-54.63,32L144,91.31l-96,96L68.68,208ZM208,68.69,187.31,48l-32,32L176,100.69Z"}))],["fill",s.createElement(s.Fragment,null,s.createElement("path",{d:"M248,152a8,8,0,0,1-8,8H224v16a8,8,0,0,1-16,0V160H192a8,8,0,0,1,0-16h16V128a8,8,0,0,1,16,0v16h16A8,8,0,0,1,248,152ZM56,72H72V88a8,8,0,0,0,16,0V72h16a8,8,0,0,0,0-16H88V40a8,8,0,0,0-16,0V56H56a8,8,0,0,0,0,16ZM184,192h-8v-8a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16h8v8a8,8,0,0,0,16,0v-8h8a8,8,0,0,0,0-16ZM219.31,80,80,219.31a16,16,0,0,1-22.62,0L36.68,198.63a16,16,0,0,1,0-22.63L176,36.69a16,16,0,0,1,22.63,0l20.68,20.68A16,16,0,0,1,219.31,80ZM208,68.69,187.31,48l-32,32L176,100.69Z"}))],["light",s.createElement(s.Fragment,null,s.createElement("path",{d:"M246,152a6,6,0,0,1-6,6H222v18a6,6,0,0,1-12,0V158H192a6,6,0,0,1,0-12h18V128a6,6,0,0,1,12,0v18h18A6,6,0,0,1,246,152ZM56,70H74V88a6,6,0,0,0,12,0V70h18a6,6,0,0,0,0-12H86V40a6,6,0,0,0-12,0V58H56a6,6,0,0,0,0,12ZM184,194H174V184a6,6,0,0,0-12,0v10H152a6,6,0,0,0,0,12h10v10a6,6,0,0,0,12,0V206h10a6,6,0,0,0,0-12ZM217.9,78.59,78.58,217.9a14,14,0,0,1-19.8,0L38.09,197.21a14,14,0,0,1,0-19.8L177.41,38.1a14,14,0,0,1,19.8,0L217.9,58.79A14,14,0,0,1,217.9,78.59ZM167.51,112,144,88.49,46.58,185.9a2,2,0,0,0,0,2.83l20.69,20.68a2,2,0,0,0,2.82,0h0Zm41.9-44.73L188.73,46.59a2,2,0,0,0-2.83,0L152.48,80,176,103.52,209.41,70.1A2,2,0,0,0,209.41,67.27Z"}))],["regular",s.createElement(s.Fragment,null,s.createElement("path",{d:"M48,64a8,8,0,0,1,8-8H72V40a8,8,0,0,1,16,0V56h16a8,8,0,0,1,0,16H88V88a8,8,0,0,1-16,0V72H56A8,8,0,0,1,48,64ZM184,192h-8v-8a8,8,0,0,0-16,0v8h-8a8,8,0,0,0,0,16h8v8a8,8,0,0,0,16,0v-8h8a8,8,0,0,0,0-16Zm56-48H224V128a8,8,0,0,0-16,0v16H192a8,8,0,0,0,0,16h16v16a8,8,0,0,0,16,0V160h16a8,8,0,0,0,0-16ZM219.31,80,80,219.31a16,16,0,0,1-22.62,0L36.68,198.63a16,16,0,0,1,0-22.63L176,36.69a16,16,0,0,1,22.63,0l20.68,20.68A16,16,0,0,1,219.31,80Zm-54.63,32L144,91.31l-96,96L68.68,208ZM208,68.69,187.31,48l-32,32L176,100.69Z"}))],["thin",s.createElement(s.Fragment,null,s.createElement("path",{d:"M244,152a4,4,0,0,1-4,4H220v20a4,4,0,0,1-8,0V156H192a4,4,0,0,1,0-8h20V128a4,4,0,0,1,8,0v20h20A4,4,0,0,1,244,152ZM56,68H76V88a4,4,0,0,0,8,0V68h20a4,4,0,0,0,0-8H84V40a4,4,0,0,0-8,0V60H56a4,4,0,0,0,0,8ZM184,196H172V184a4,4,0,0,0-8,0v12H152a4,4,0,0,0,0,8h12v12a4,4,0,0,0,8,0V204h12a4,4,0,0,0,0-8ZM216.48,77.17,77.17,216.49a12,12,0,0,1-17,0L39.51,195.8a12,12,0,0,1,0-17L178.83,39.51a12,12,0,0,1,17,0L216.48,60.2A12,12,0,0,1,216.48,77.17ZM170.34,112,144,85.66,45.17,184.49a4,4,0,0,0,0,5.65l20.68,20.69a4,4,0,0,0,5.66,0Zm40.49-46.14L190.14,45.17a4,4,0,0,0-5.66,0L149.65,80,176,106.34l34.83-34.83A4,4,0,0,0,210.83,65.86Z"}))]]);var A=Object.defineProperty,V=Object.defineProperties,F=Object.getOwnPropertyDescriptors,T=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,P=Object.prototype.propertyIsEnumerable,O=(e,t,a)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,W=(e,t)=>{for(var a in t||(t={}))_.call(t,a)&&O(e,a,t[a]);if(T)for(var a of T(t))P.call(t,a)&&O(e,a,t[a]);return e},B=(e,t)=>V(e,F(t));let D=(0,s.forwardRef)((e,t)=>s.createElement(p.Z,B(W({ref:t},e),{weights:N})));D.displayName="MagicWand";var R=a(4243);function G(e){let t="".concat(M().card," md:w-full md:h-fit sm:w-full h-fit md:w-[200px] cursor-pointer md:p-2"),a="".concat(M().text," dark:text-white");return(0,i.jsx)(j.Zb,{className:t,children:(0,i.jsx)("div",{className:"flex w-full",children:(0,i.jsxs)(j.aY,{className:"m-0 p-2 w-full flex flex-row",children:[k(e.title,e.color.toLowerCase()),(0,i.jsx)(j.SZ,{className:"".concat(a," sm:line-clamp-2 md:line-clamp-4 pt-1 break-words whitespace-pre-wrap max-w-full"),children:e.body})]})})})}function U(e){let t="".concat(M().card," md:h-fit sm:w-full h-fit cursor-pointer md:p-2");return(0,i.jsx)(j.Zb,{className:t,children:(0,i.jsx)("div",{className:"flex w-full items-center",children:(0,i.jsxs)(j.aY,{className:"m-0 p-1 w-full flex flex-row items-center",children:[(0,i.jsx)(D,{weight:"thin",className:"w-4 h-4 text-muted-foreground inline-flex mr-1 text-opacity-40"}),(0,i.jsx)(j.SZ,{className:"sm:line-clamp-2 md:line-clamp-4 break-words whitespace-pre-wrap max-w-full text-sm text-wrap text-black dark:text-white",children:e.prompt})]})})})}function $(e){let t="".concat(M().card," md:w-full md:h-fit sm:w-full h-fit md:w-fit cursor-pointer m-2 md:p-1 animate-fade-in-up border-opacity-50 shadow-none"),a="".concat(M().text," dark:text-white");return(0,i.jsx)(j.Zb,{className:t,onClick:e.onClick,children:(0,i.jsx)("div",{className:"flex w-full h-full items-center justify-center",children:(0,i.jsxs)(j.aY,{className:"m-0 p-2 w-full flex flex-row items-center justify-center",children:[k(e.title,e.color.toLowerCase()),(0,i.jsx)(j.SZ,{className:"".concat(a," sm:line-clamp-2 md:line-clamp-4 pt-1 break-words whitespace-pre-wrap max-w-full text-center"),children:e.body}),(0,i.jsx)(R.a,{className:"w-6 h-6 text-muted-foreground inline-flex ml-1"})]})})})}var q=a(14308),z=a(33494),J=a(56937),Y=a(84671),K=a(59199),Q=a(7436),X=a(99376),ee=a(19378),et=a(25427),ea=a(57054),en=a(62869),eo=a(37104),ei=a(17814);function er(e){return e.isMobileWidth?(0,i.jsx)(ei.dy,{open:!0,onClose:()=>e.setShowLoginPrompt(!1),children:(0,i.jsx)(ei.sc,{children:(0,i.jsx)(el,{...e})})}):(0,i.jsx)("div",{className:"fixed inset-x-0 bottom-8 z-30 flex items-center justify-center",children:(0,i.jsx)(el,{...e})})}function el(e){return(0,i.jsxs)(j.Zb,{className:"rounded-lg p-6 flex flex-col items-center justify-between gap-8 md:w-fit border-none md:flex-row md:z-30 md:shadow-lg",children:[!e.isMobileWidth&&(0,i.jsx)(eo.S6,{className:"w-12 h-auto"}),(0,i.jsxs)("div",{className:"flex flex-col items-start justify-center gap-8 md:gap-2",children:[(0,i.jsx)(j.Ol,{className:"p-0 text-xl font-bold",children:"Welcome to Khoj!"}),(0,i.jsx)(j.SZ,{children:"Sign in to get started with Khoj, your AI research assistant."})]}),(0,i.jsx)(en.z,{variant:"default",className:"p-6 text-lg",onClick:()=>e.setShowLoginPrompt(!0),children:"Get started for free"})]})}var es=a(85872),ec=a(34124),ep=a(6512);function ed(e){let{agents:t,agentIcons:a,selectedAgent:n,isPopoverOpen:o,debouncedHoveredAgent:r,setHoveredAgent:l,setIsPopoverOpen:s,setSelectedAgent:c,chatInputRef:p,openAgentEditCard:d,userConfig:m,isMobileWidth:h}=e;return(0,i.jsxs)(ee.x,{className:"w-full max-w-[600px] mx-auto",children:[(0,i.jsx)("div",{className:"flex pb-2 gap-2 items-center justify-center",children:t.map((e,t)=>(0,i.jsxs)(ea.J2,{open:o&&r===e.slug,onOpenChange:e=>{e||(l(null),s(!1))},children:[(0,i.jsx)(ea.xo,{asChild:!0,children:(0,i.jsx)(j.Zb,{className:"".concat(n===e.slug?(0,Y.Iu)(e.color):"border-stone-100 dark:border-neutral-700 text-muted-foreground","\n                            hover:cursor-pointer rounded-lg px-2 py-2"),onDoubleClick:()=>d(e.slug),onClick:()=>{var t;c(e.slug),null===(t=p.current)||void 0===t||t.focus(),l(null),s(!1)},onMouseEnter:()=>l(e.slug),onMouseLeave:()=>{l(null),s(!1)},children:(0,i.jsxs)(j.ll,{className:"text-center text-md font-medium flex justify-center items-center whitespace-nowrap",children:[a[t]," ",e.name]})})}),(0,i.jsx)(ea.yk,{className:"w-80 p-0 border-none bg-transparent shadow-none",onMouseLeave:()=>{l(null),s(!1)},children:(0,i.jsx)(et.EY,{data:e,userProfile:null,isMobileWidth:h||!1,showChatButton:!1,editCard:!1,filesOptions:[],selectedChatModelOption:"",agentSlug:"",isSubscribed:(0,J.T8)(m),setAgentChangeTriggered:()=>{},modelOptions:[],inputToolOptions:{},outputModeOptions:{}})})]},"".concat(t,"-").concat(e.slug)))}),(0,i.jsx)(ee.B,{orientation:"horizontal"})]})}function em(e){var t,a;let[n,o]=(0,s.useState)(""),[r,p]=(0,s.useState)(""),[d,m]=(0,s.useState)(S.$.MESSAGE),[h,u]=(0,s.useState)([]),[g,f]=(0,s.useState)(!1),[x,w]=(0,s.useState)(""),[v,b]=(0,s.useState)(H.slice(0,3)),[L,M]=(0,s.useState)([]),[I,C]=(0,s.useState)(null),[k,N]=(0,s.useState)(null),A=(0,Q.Nr)(k,500),[V,F]=(0,s.useState)(!1),[T,_]=(0,s.useState)("khoj"),[P,O]=(0,s.useState)([]),[W,B]=(0,s.useState)([]),D=(0,s.useRef)(null),[R,q]=(0,s.useState)(!1),J=(0,X.useRouter)(),et=(0,X.useSearchParams)().get("q");(0,s.useEffect)(()=>{et&&o(decodeURIComponent(et))},[et]),(0,s.useEffect)(()=>{A&&F(!0)},[A]);let ea=e.onConversationIdChange,{data:en,error:eo}=(0,c.ZP)("agents",()=>window.fetch("/api/agents").then(e=>e.json()).catch(e=>console.log(e)),{revalidateOnFocus:!1}),ei=e=>{J.push("/agents?agent=".concat(e))};return(0,s.useEffect)(()=>{var t,a;if(e.isLoadingUserConfig)return;let n=new Date,o=n.getDay(),i=n.getHours()>=17||4>n.getHours()?"evening":n.getHours()>=12?"afternoon":"morning",r=(null===(t=e.userConfig)||void 0===t?void 0:t.given_name)?", ".concat(null===(a=e.userConfig)||void 0===a?void 0:a.given_name):"",l=["What would you like to get done".concat(r,"?"),"Hey".concat(r,"! How can I help?"),"Good ".concat(i).concat(r,"! What's on your mind?"),"Ready to breeze through ".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][o],"?"),"Let's navigate your ".concat(["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][o]," workload")];w(l[Math.floor(Math.random()*l.length)])},[e.isLoadingUserConfig,e.userConfig]),(0,s.useEffect)(()=>{let e=(en||[]).filter(e=>null!=e);B(e),_(e.length>1?e[0].slug:"khoj"),O(e.map(e=>(0,E.TI)(e.icon,e.color)))},[en]),(0,s.useEffect)(()=>{(async()=>{if(n&&!g){f(!0);try{let e=await (0,K.A0)(T||"khoj");null==ea||ea(e),localStorage.setItem("message",n),h.length>0&&localStorage.setItem("images",JSON.stringify(h)),window.location.href="/chat?conversationId=".concat(e)}catch(e){console.error("Error creating new conversation:",e),f(!1)}o(""),u([])}})(),(n||h.length>0)&&f(!0)},[T,n,g,ea]),(0,s.useEffect)(()=>{let e=document.querySelector("[data-radix-scroll-area-viewport]"),t=()=>{N(null),F(!1)};return null==e||e.addEventListener("scroll",t),()=>null==e?void 0:e.removeEventListener("scroll",t)},[]),(0,i.jsxs)("div",{className:"".concat(l().homeGreetings," w-full md:w-auto"),children:[R&&(0,i.jsx)(z.Z,{onOpenChange:q,isMobileWidth:e.isMobileWidth}),!e.isLoggedIn&&(0,i.jsx)(er,{isMobileWidth:e.isMobileWidth,setShowLoginPrompt:q}),(0,i.jsxs)("div",{className:"w-full text-center justify-end content-end",children:[(0,i.jsx)("div",{className:"items-center",children:(0,i.jsx)("h1",{className:"text-2xl md:text-3xl text-center w-fit pb-6 px-4 mx-auto",children:x})}),!e.isMobileWidth&&(0,i.jsx)(ed,{agents:W,agentIcons:P,selectedAgent:T,isPopoverOpen:V,debouncedHoveredAgent:A,setHoveredAgent:N,setIsPopoverOpen:F,setSelectedAgent:_,chatInputRef:D,openAgentEditCard:ei,userConfig:e.userConfig})]}),(0,i.jsxs)("div",{className:"mx-auto ".concat(e.isMobileWidth?"w-full":"w-full max-w-screen-md"),children:[!e.isMobileWidth&&(0,i.jsx)("div",{className:"w-full ".concat(l().inputBox," shadow-lg bg-background align-middle items-center justify-center px-3 py-1 dark:bg-neutral-700 border-stone-100 dark:border-none dark:shadow-none rounded-2xl"),children:(0,i.jsx)(S.a,{isLoggedIn:e.isLoggedIn,prefillMessage:r,focus:d,sendMessage:e=>o(e),sendImage:e=>u(t=>[...t,e]),sendDisabled:g,chatOptionsData:e.chatOptionsData,conversationId:null,isMobileWidth:e.isMobileWidth,setUploadedFiles:e.setUploadedFiles,agentColor:null===(t=W.find(e=>e.slug===T))||void 0===t?void 0:t.color,ref:D,setTriggeredAbort:()=>{}})}),0==L.length&&(0,i.jsx)("div",{className:"".concat(l().suggestions," w-full ").concat(e.isMobileWidth&&H.length>3?"grid grid-cols-2":"grid grid-cols-3",' "justify-center items-center"'),children:v.map((t,a)=>(0,i.jsx)("div",{onClick:a=>{e.isLoggedIn?function(e){p(e.intent);let t=Z[e.type]||[];C(e),M(t),m(e.focus)}(t):(a.preventDefault(),a.stopPropagation(),q(!0))},children:(0,i.jsx)(G,{title:t.type,body:t.actionTagline,color:t.color},t.type+Math.random())},"".concat(t.type," ").concat(t.actionTagline)))}),0==L.length&&v.length<H.length&&(0,i.jsx)("div",{className:"flex items-center justify-center margin-auto",children:(0,i.jsxs)("button",{onClick:function(){b(H)},className:"m-2 p-1.5 rounded-lg dark:hover:bg-[var(--background-color)] hover:bg-stone-100 border border-stone-100 text-sm text-stone-500 dark:text-stone-300 dark:border-neutral-700",children:["Show All ",(0,i.jsx)(y,{className:"h-4 w-4 inline"})]})}),I&&(0,i.jsx)($,{title:I.type,body:I.actionTagline,color:I.color,onClick:()=>{p(""),C(null),M([]),m(S.$.MESSAGE)}}),L.length>0&&(0,i.jsx)("div",{className:"w-full ".concat(e.isMobileWidth?"grid":"grid grid-cols-1"," justify-center items-center gap-2 p-2"),children:L.map((e,t)=>(0,i.jsx)("div",{className:"w-full cursor-pointer animate-fade-in-up",onClick:t=>{o(e.prompt)},children:(0,i.jsx)(U,{prompt:e.prompt},e.prompt)},"".concat(e.prompt," ").concat(t)))})]}),e.isMobileWidth&&(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"".concat(l().inputBox," pt-1 shadow-[0_-20px_25px_-5px_rgba(0,0,0,0.1)] dark:bg-neutral-700 bg-background align-middle items-center justify-center pb-3 mx-1 rounded-2xl mb-2"),children:[(0,i.jsxs)(ee.x,{className:"w-full max-w-[85vw]",children:[(0,i.jsx)("div",{className:"flex gap-2 items-center justify-left pt-1 pb-2 px-12",children:P.map((e,t)=>(0,i.jsx)(j.Zb,{className:"".concat(T===W[t].slug?(0,Y.Iu)(W[t].color):"border-muted text-muted-foreground"," hover:cursor-pointer"),children:(0,i.jsxs)(j.ll,{className:"text-center text-xs font-medium flex justify-center items-center whitespace-nowrap px-1.5 py-1",onDoubleClick:()=>ei(W[t].slug),onClick:()=>{var e;_(W[t].slug),null===(e=D.current)||void 0===e||e.focus()},children:[e," ",W[t].name]})},"".concat(t,"-").concat(W[t].slug)))}),(0,i.jsx)(ee.B,{orientation:"horizontal"})]}),(0,i.jsx)(S.a,{isLoggedIn:e.isLoggedIn,sendMessage:e=>o(e),sendImage:e=>u(t=>[...t,e]),sendDisabled:g,chatOptionsData:e.chatOptionsData,conversationId:null,isMobileWidth:e.isMobileWidth,setUploadedFiles:e.setUploadedFiles,agentColor:null===(a=W.find(e=>e.slug===T))||void 0===a?void 0:a.color,ref:D,setTriggeredAbort:()=>{}})]})})]})}function eh(){let[e,t]=(0,s.useState)(null),[a,n]=(0,s.useState)(!0),[o,r]=(0,s.useState)(null),[c,p]=(0,s.useState)(null),d=(0,Q.IC)(),{userConfig:m,isLoadingUserConfig:h}=(0,J.h2)(!0),[u,g]=(0,s.useState)(null),{data:f,error:x,isLoading:w}=(0,J.GW)();return((0,s.useEffect)(()=>{g(m)},[m]),(0,s.useEffect)(()=>{c&&localStorage.setItem("uploadedFiles",JSON.stringify(c))},[c]),(0,s.useEffect)(()=>{fetch("/api/chat/options").then(e=>e.json()).then(e=>{n(!1),e&&t(e)}).catch(e=>{console.error(e)})},[]),a)?(0,i.jsx)(q.Z,{}):(0,i.jsxs)(es.Hn,{children:[(0,i.jsx)(ec.S,{conversationId:o}),(0,i.jsxs)(es.kV,{children:[(0,i.jsxs)("header",{className:"flex h-16 shrink-0 items-center gap-2 border-b px-4",children:[(0,i.jsx)(es.vP,{className:"-ml-1"}),(0,i.jsx)(ep.Z,{orientation:"vertical",className:"mr-2 h-4"}),d?(0,i.jsx)("a",{className:"p-0 no-underline",href:"/",children:(0,i.jsx)(eo.VO,{className:"h-auto w-16"})}):(0,i.jsx)("h2",{className:"text-lg",children:"Ask Anything"})]}),(0,i.jsxs)("div",{className:"".concat(l().main," ").concat(l().chatLayout),children:[(0,i.jsx)("title",{children:"Khoj AI - Your Second Brain"}),(0,i.jsx)("div",{className:"".concat(l().chatBox),children:(0,i.jsx)("div",{className:"".concat(l().chatBoxBody),children:!w&&(0,i.jsx)(em,{isLoggedIn:!!f,chatOptionsData:e,setUploadedFiles:p,isMobileWidth:d,onConversationIdChange:e=>{r(e)},userConfig:u,isLoadingUserConfig:h})})})]})]})]})}},99376:function(e,t,a){"use strict";var n=a(35475);a.o(n,"useRouter")&&a.d(t,{useRouter:function(){return n.useRouter}}),a.o(n,"useSearchParams")&&a.d(t,{useSearchParams:function(){return n.useSearchParams}})},47960:function(){},64670:function(e){e.exports={card:"suggestions_card__fbiZo",title:"suggestions_title__vNozc",text:"suggestions_text__J_IfY"}},76777:function(e){e.exports={main:"page_main__nw1Wk",suggestions:"page_suggestions__Y8EqU",inputBox:"page_inputBox__LrcZ4",chatBodyFull:"page_chatBodyFull__Qu2T2",chatBody:"page_chatBody__IirQQ",chatLayout:"page_chatLayout__bJUjP",chatBox:"page_chatBox__gsR6V",titleBar:"page_titleBar__3btUI",chatBoxBody:"page_chatBoxBody__xORKr",homeGreetings:"page_homeGreetings__VjQhh"}}},function(e){e.O(0,[3587,6250,8255,1607,9259,8667,182,9665,4270,7647,2327,5477,5427,2971,2117,1744],function(){return e(e.s=1507)}),_N_E=e.O()}]);