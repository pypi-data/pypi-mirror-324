import{_ as ze}from"./7e4W9AIf.js";import{r as Ue,_ as Oe,a as Me,b as Ie,c as Be,d as De,e as Ne}from"./DTMGP6xx.js";import{h as Y,i as ke,j as C,r as j,k as q,l as ce,m as we,o as r,c as h,b as _,F as X,n as Ce,q as Pe,t as Q,s as We,v as $,w as U,d as o,x as ge,y as xe,z as qe,A as Fe,B as Ve,C as W,D as s,E as f,G as ne,H as Ae,I as Se,J as Je,K as he,L as Ge,M as ie,P as H,e as be,N as le,O as He,Q as Qe,R as Xe,S as Ye,T as Ze,U as Ke,V as et,W as tt,X as st}from"./B0OuR9xi.js";import{_ as ot}from"./BmrREbtp.js";import{_ as lt}from"./C4g72jM9.js";import{T as ue,l as ve,d as ye,s as re,_ as rt}from"./B_ioTAU5.js";import{_ as at}from"./O7c8SeZr.js";import{u as nt}from"./Cv6xefjx.js";import"./Bkg23qCy.js";import"./DkjJWMTY.js";const _e={width:800,height:400,priceScale:{borderColor:"rgba(197, 203, 206, 1)"},timeScale:{borderColor:"rgba(197, 203, 206, 1)",timeVisible:!0,secondsVisible:!1}},it={chart:{layout:{background:{color:"#ffffff"},textColor:"rgba(33, 56, 77, 1)"},grid:{vertLines:{color:"#f1f1f1",visible:!0},horzLines:{color:"#f1f1f1",visible:!0}},priceScale:{borderColor:"rgba(197, 203, 206, 0.6)"},timeScale:{borderColor:"rgba(197, 203, 206, 0.6)",timeVisible:!0,secondsVisible:!1}}},ut={chart:{layout:{background:{color:"#333333"},textColor:"#D1D5DB"},grid:{vertLines:{color:"#525252",visible:!0},horzLines:{color:"#525252",visible:!0}},priceScale:{borderColor:"#525252"},timeScale:{borderColor:"#525252",timeVisible:!0,secondsVisible:!1}}},ct={class:"mt-2"},dt={class:"ml-2"},mt=Y({__name:"EquityCurve",props:{data:{}},setup(O){const l=ke(),u=C(()=>l.value),c=j();let n=null,y=[];const i=O;q(i.data,p=>{}),q(u,p=>{x(p)}),ce(async()=>{await b()});async function b(){_e.width=c.value.clientWidth,n=ue(c.value,_e);for(const p of i.data){const m=n.addLineSeries({lineWidth:2});m.setData(p.data),y.push(m)}n.timeScale().fitContent(),x(u.value)}we(()=>{g()});function g(){n!==null&&(n.remove(),n=null),y&&(y=[])}function x(p){n===null||y===null||n.applyOptions(p==="light"?it.chart:ut.chart)}return(p,m)=>(r(),h(X,null,[_("div",{ref_key:"chartContainer",ref:c,class:"rounded overflow-hidden border-2 border-gray-100 dark:border-gray-600"},null,512),_("div",ct,[(r(!0),h(X,null,Ce(p.data,V=>(r(),h("span",{key:V.name,class:"text-xs mr-2 rounded bg-white dark:bg-gray-700 p-1"},[_("span",{class:"inline-block",style:Pe({backgroundColor:V.color,width:"25px",height:"10px"})},null,4),_("span",dt,Q(V.name),1)]))),128))])],64))}}),ft={class:"flex items-center justify-between"},pt=Y({__name:"FullscreenModal",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(O){const l=We(O,"modelValue");return(u,c)=>{const n=xe,y=qe,i=Fe;return r(),$(i,{modelValue:l.value,"onUpdate:modelValue":c[1]||(c[1]=b=>l.value=b),fullscreen:""},{default:U(()=>[o(y,{ui:{base:"h-full flex flex-col",rounded:"",divide:"divide-y divide-gray-100 dark:divide-gray-800",body:{base:"grow"}}},{header:U(()=>[_("div",ft,[_("div",null,[ge(u.$slots,"title")]),o(n,{color:"gray",variant:"ghost",icon:"i-heroicons-x-mark-20-solid",class:"-my-1",onClick:c[0]||(c[0]=b=>l.value=!1)})])]),default:U(()=>[ge(u.$slots,"default")]),_:3})]),_:3},8,["modelValue"])}}}),gt={class:"flex flex-col h-full border dark:border-gray-800"},ht={key:0},bt=Y({__name:"BacktestCandlesChart",props:{form:{},results:{}},setup(O){const l=ke(),u=j(2),c=O,n=j(),y=j([]);let i=null,b=null;const g=[],x=[],p=C(()=>Ve().params.id),m=C(()=>W.extraChartLines[p.value].find(v=>v.symbol===c.results.selectedRoute.symbol)),V=C(()=>l.value);q(V,v=>{P(v)}),q(()=>c.results.selectedRoute.symbol,()=>{Z(),setTimeout(async()=>{await I()},100)}),ce(async()=>{setTimeout(async()=>{await I()},200)});async function I(){var ee,te,z,se;re.width=n.value.clientWidth,re.height=n.value.clientHeight-Object.keys(m.value.charts).length*150,i=ue(n.value,re),i.applyOptions({rightPriceScale:{borderColor:V.value==="light"?"#d1d4dc":"#4b5563",minimumWidth:80},watermark:{visible:!0,fontSize:16,horzAlign:"left",vertAlign:"bottom",color:"#888",text:`${c.results.selectedRoute.symbol} • ${c.results.selectedRoute.timeframe}`}}),b=i.addCandlestickSeries();const v=W.candles[p.value].find(d=>d.symbol===c.results.selectedRoute.symbol).candles;b.setData(v),b.setMarkers(W.orders[p.value].find(d=>d.symbol===c.results.selectedRoute.symbol).orders);const T=String(v[0].open).indexOf("."),E=T===-1?0:String(v[v.length-1].open).length-T-1;u.value!==E&&(u.value=E,(u.value<0||u.value>100)&&(u.value=0),b.applyOptions({priceFormat:{type:"price",precision:u.value,minMove:Math.pow(10,-u.value).toFixed(u.value)}}));const A=(te=(ee=W.lines[p.value])==null?void 0:ee.find(d=>d.symbol===c.results.selectedRoute.symbol))==null?void 0:te.lines;if(A)for(const d of Object.keys(A)){const k=A[d];i.addLineSeries({lineWidth:1,title:d}).setData(k.data)}const J=(se=(z=W.horizontalLines[p.value])==null?void 0:z.find(d=>d.symbol===c.results.selectedRoute.symbol))==null?void 0:se.lines;if(J)for(const d of Object.keys(J)){const L=J[d];b.createPriceLine(L)}i.timeScale().fitContent();const K=new Set;Object.keys(m.value.charts).forEach((d,k)=>{const L={...re};L.width=y.value[k].clientWidth,L.height=150;const S=ue(y.value[k],L);g.push(S),Object.keys(m.value.charts[d]).forEach(e=>{var D,M;const t=S.addLineSeries({lineWidth:1,title:e}),B=(M=(D=W.horizontalExtraLines[p.value])==null?void 0:D.find(w=>w.symbol===c.results.selectedRoute.symbol))==null?void 0:M.lines[d];if(B&&!K.has(d)){for(const w of Object.keys(B)){const oe=B[w];t.createPriceLine(oe)}K.add(d)}t.setData(m.value.charts[d][e].data),x.push(t)}),S.applyOptions({rightPriceScale:{borderColor:V.value==="light"?"#d1d4dc":"#4b5563",minimumWidth:80},watermark:{visible:!0,fontSize:16,horzAlign:"left",vertAlign:"bottom",color:"#888",text:d}}),S.timeScale().subscribeVisibleLogicalRangeChange(e=>{i.timeScale().setVisibleLogicalRange(e)}),k!==Object.keys(m.value.charts).length-1&&S.timeScale().applyOptions({visible:!1})}),i.subscribeCrosshairMove(d=>{const k=R(b,d);Object.keys(m.value.charts).forEach((L,S)=>{F(g[S],x[S],k)})}),Object.keys(m.value.charts).forEach((d,k)=>{g[k].subscribeCrosshairMove(L=>{const S=R(x[k],L);F(i,b,S),g.forEach((e,t)=>{t!==k&&F(e,x[t],S)})})}),i.timeScale().subscribeVisibleLogicalRangeChange(d=>{g.forEach(k=>{k.timeScale().setVisibleLogicalRange(d)})}),P(V.value),g.length>0&&i.timeScale().applyOptions({visible:!1})}we(()=>{Z()});function R(v,T){return T.time&&T.seriesData.get(v)||null}function F(v,T,E){if(E){v.setCrosshairPosition(E.value,E.time,T);return}v.clearCrosshairPosition()}function Z(){i!==null&&(i.remove(),i=null),b!==null&&(b=null),g.length>0&&(g.forEach(v=>{v.remove()}),g.length=0),x.length>0&&(x.length=0)}function P(v){i!==null&&(i.applyOptions(v==="light"?ve.chart:ye.chart),g.forEach(T=>{T.applyOptions(v==="light"?ve.chart:ye.chart)}))}return(v,T)=>(r(),h("div",gt,[_("div",{ref_key:"chartContainer",ref:n,class:"rounded overflow-hidden flex-grow"},null,512),s(m)&&Object.keys(s(m).charts).length?(r(),h("div",ht,[(r(!0),h(X,null,Ce(Object.keys(s(m).charts),E=>(r(),h("div",{key:E,ref_for:!0,ref_key:"extraChartsRef",ref:y,class:"relative border-t-[1.5px] dark:border-gray-800"}))),128))])):f("",!0)]))}}),vt={key:0,class:"flex flex-col items-center justify-center select-none mt-[10%]"},yt=["textContent"],_t={class:"mt-8"},kt={class:"mt-8"},wt={key:0,class:"mt-4"},Ct={key:1,class:"mx-auto container mt-8"},xt={key:0},Vt=_("h3",{class:"text-lg font-semibold"},"Missing Required Warmup Candles",-1),St={class:"mb-4 mt-4"},$t=_("strong",{class:"font-bold"},"warmup candles",-1),Rt={class:"flex items-center select-none flex-1 my-4"},Tt={class:"grid grid-cols-1 gap-6 mt-8"},Lt={key:1,class:"w-full mx-auto"},jt={key:4,class:"text-yellow-500 border-yellow-400 bg-yellow-50 dark:bg-gray-700 dark:text-yellow-400 mt-16 text-center text-2xl rounded border-2 border-dashed dark:border-gray-800 py-16 select-none"},Et={key:0},zt={key:0},Ut=["href"],Ot=["href"],Mt=["href"],It={key:5,class:"my-4"},Bt={key:1},Dt=Y({__name:"BacktestTab",props:{form:{},results:{}},setup(O){const l=O,u=j(!1),c=j(""),n=j([]),y=j(!1),i=j(!1),b=ne().authToken,g=j(Ae().public.apiBaseUrl),x=j(!1),p=C(()=>Ve().params.id),m=Se(),V=ne(),I=Je(),R=j([]),F=C(()=>V.jesseSupportedTimeframes.map(e=>({label:e,value:e}))),Z=C(()=>l.form.routes.map(e=>({label:`${e.strategy} • ${e.symbol}`,value:e})));l.results.selectedRoute=l.form.routes[0],ce(async()=>{await V.initiate(),!l.form.exchange&&V.backtestingExchangeNames.length&&(l.form.exchange=V.backtestingExchangeNames[0]),(!l.results.showResults&&l.form.exchange||!R.value.length)&&await P()});async function P(){if(l.form.exchange)try{R.value.length||(R.value=await V.getExchangeSupportedSymbols(l.form.exchange));for(let e=0;e<l.form.routes.length;e++)R.value.includes(l.form.routes[e].symbol)||(l.form.routes[e].symbol=R.value[0]);if(l.form.data_routes.length>0)for(let e=0;e<l.form.data_routes.length;e++)R.value.includes(l.form.data_routes[e].symbol)||(l.form.data_routes[e].symbol=R.value[0])}catch(e){console.error("Error updating supported symbols:",e)}}q(()=>l.form.exchange,async(e,t)=>{e!==t&&(R.value=[],await P())});const{cancel:v,rerun:T,newBacktest:E}=m;function A(e){if(n.value.length){for(let t=0;t<n.value.length;t++)le("error",n.value[t]);return}m.start(e)}const J=e=>{if(n.value.length){for(let t=0;t<n.value.length;t++)le("error",n.value[t]);return}m.startInNewTab(e)},K=C(()=>{let e=`/download/backtest/tradingview/${l.results.generalInfo.session_id}?token=${b}`;return g.value!=="/"&&(e=g.value+e),e});C(()=>{let e=`/download/backtest/full-reports/${l.results.generalInfo.session_id}?token=${b}`;return g.value!=="/"&&(e=g.value+e),e});const ee=C(()=>{let e=`/download/backtest/csv/${l.results.generalInfo.session_id}?token=${b}`;return g.value!=="/"&&(e=g.value+e),e}),te=C(()=>{let e=`/download/backtest/json/${l.results.generalInfo.session_id}?token=${b}`;return g.value!=="/"&&(e=g.value+e),e}),z=C(()=>m.formattedMetrics(p.value).length>0),se=C(()=>he.remainingTimeText(l.results.progressbar.estimated_remaining_seconds));function d(){navigator.clipboard.writeText(c.value),le("success","Logs copied successfully"),i.value=!0,setTimeout(()=>{i.value=!1},3e3)}q(()=>l.form.start_date,e=>{l.form.finish_date<e&&(l.form.finish_date=e)});async function k(){const e=m.missingCandlesErrors[p.value];e&&(I.forms.push({id:he.uuid(),exchange:e.exchange,symbol:e.symbol,start_date:e.start_date,executing:!1,waiting:!1,progressbar:{current:0,estimated_remaining_seconds:0},exception:{error:"",traceback:""},alert:{message:"",type:""}}),await He("/candles/"),await I.start(I.forms[I.forms.length-1].id))}async function L(){c.value.length>0||await S(),u.value=!0}async function S(){const{data:e,error:t}=await Qe(`/logs/backtest/${p.value}?token=${b}`,!1);if(t.value){le("error",t.value.message);return}const B=e.value;c.value=B.content.split(`
`).map(D=>{const M=D.match(/\[INFO \| (.*?)\] (.*)/);return M?`[${M[1]}] ${M[2]}`:D}).join(`
`)}return(e,t)=>{const B=Oe,D=Xe,M=Me,w=xe,de=Ie,oe=ot,G=Ye,me=lt,$e=Be,fe=Ze,N=Ke,Re=mt,pe=et,Te=pt,ae=at,Le=rt,je=De,Ee=Ne;return r(),h(X,null,[o(D,{modelValue:s(u),"onUpdate:modelValue":t[0]||(t[0]=a=>ie(u)?u.value=a:null),title:"Logs"},{default:U(()=>[o(B,{logs:s(c)},null,8,["logs"])]),buttons:U(()=>[_("button",{class:"ml-2 p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-full text-gray-400 hover:text-gray-500 dark:hover:text-gray-300 focus:outline-none",onClick:d},[s(i)?(r(),$(s(Ge),{key:0,class:"h-6 w-6","aria-hidden":"true"})):f("",!0),!s(i)&&s(c).length!=0?(r(),$(s(Ue),{key:1,class:"h-6 w-6","aria-hidden":"true"})):f("",!0)])]),_:1},8,["modelValue"]),e.results.executing&&!e.results.showResults?(r(),h("div",vt,[_("div",null,[o(M,{progress:e.results.progressbar.current},null,8,["progress"])]),e.results.exception.error?f("",!0):(r(),h("h3",{key:0,class:"mt-8 animate-pulse",textContent:Q(s(se))},null,8,yt)),_("div",_t,[_("div",kt,[o(w,{color:"gray",ui:{color:{gray:{solid:"text-rose-500 dark:text-rose-400"}}},class:"w-64 flex justify-center",icon:"i-heroicons-no-symbol",size:"xl",variant:"solid",label:"Cancel",trailing:!1,onClick:t[1]||(t[1]=a=>s(v)((e._.provides[H]||e.$route).params.id))})]),e.form.debug_mode&&e.results.exception.error?(r(),h("div",wt,[o(w,{icon:"i-heroicons-clipboard-document-list",label:"Debugging Logs",color:"gray",size:"xl",variant:"solid",trailing:!1,class:"w-64 flex justify-center",onClick:L})])):f("",!0)]),e.results.exception.error&&e.results.executing?(r(),h("div",Ct,[o(de,{modelValue:s(y),"onUpdate:modelValue":t[2]||(t[2]=a=>ie(y)?y.value=a:null),title:e.results.exception.error,content:e.results.exception.traceback,mode:"backtest","debug-mode":e.form.debug_mode},null,8,["modelValue","title","content","debug-mode"])])):f("",!0)])):f("",!0),o(Ee,null,{left:U(()=>[!e.results.executing&&!e.results.showResults?(r(),h("div",xt,[s(m).missingCandlesErrors[s(p)]?(r(),$(oe,{key:0,icon:"i-heroicons-exclamation-triangle",color:"rose",variant:"soft",class:"mb-4"},{title:U(()=>[Vt]),description:U(()=>[_("p",St,[be(" Your strategy requires "),$t,be(' for "'+Q(s(m).missingCandlesErrors[s(p)].symbol)+'" on "'+Q(s(m).missingCandlesErrors[s(p)].exchange)+'" starting from "'+Q(s(m).missingCandlesErrors[s(p)].start_date)+'". These candles are needed for proper strategy initialization. ',1)]),o(w,{label:"Import Required Candles",icon:"i-heroicons-arrow-down-tray",onClick:k})]),_:1})):f("",!0),o(G,{class:"mb-4",title:"Exchange"}),o(me,{modelValue:e.form.exchange,"onUpdate:modelValue":t[3]||(t[3]=a=>e.form.exchange=a),placeholder:"Select an exchange...",searchable:"",options:s(ne)().backtestingExchangeNames,size:"lg",class:"mt-2 mb-16",onChange:P},null,8,["modelValue","options"]),o($e,{"total-routes-error":s(n),timeframes:s(F),form:e.form,results:e.results,symbols:s(R),mode:"backtest"},null,8,["total-routes-error","timeframes","form","results","symbols"]),o(G,{class:"mt-16",title:"Duration"}),_("div",Rt,[o(fe,{modelValue:e.form.start_date,"onUpdate:modelValue":t[4]||(t[4]=a=>e.form.start_date=a),type:"date",variant:"outline",size:"lg",class:"w-full mr-2"},null,8,["modelValue"]),o(fe,{modelValue:e.form.finish_date,"onUpdate:modelValue":t[5]||(t[5]=a=>e.form.finish_date=a),type:"date",variant:"outline",size:"lg",class:"w-full ml-2"},null,8,["modelValue"])]),o(G,{class:"mt-16",title:"Options"}),_("div",Tt,[o(N,{modelValue:e.form.debug_mode,"onUpdate:modelValue":t[6]||(t[6]=a=>e.form.debug_mode=a),title:"Debug Mode",description:"Logs every step of the execution. Very helpful for debugging your strategy but takes a lot longer to execute"},null,8,["modelValue"]),o(N,{modelValue:e.form.export_chart,"onUpdate:modelValue":t[7]||(t[7]=a=>e.form.export_chart=a),title:"Generate Interactive Charts",description:"Generate interactive charts for backtest results with details."},null,8,["modelValue"]),o(N,{modelValue:e.form.export_tradingview,"onUpdate:modelValue":t[8]||(t[8]=a=>e.form.export_tradingview=a),title:"Export Tradingview",description:"Exports the executed trades in a format accepted by TradingView's Pine Editor. Useful to look at the executed orders on their chart."},null,8,["modelValue"]),o(N,{modelValue:e.form.export_csv,"onUpdate:modelValue":t[9]||(t[9]=a=>e.form.export_csv=a),title:"Export CSV",description:"Exports executed trades in a CSV format"},null,8,["modelValue"]),o(N,{modelValue:e.form.export_json,"onUpdate:modelValue":t[10]||(t[10]=a=>e.form.export_json=a),title:"Export JSON",description:"Exports executed trades in a JSON format"},null,8,["modelValue"]),o(N,{modelValue:e.form.fast_mode,"onUpdate:modelValue":t[11]||(t[11]=a=>e.form.fast_mode=a),title:"Fast Mode",description:"Runs the backtest faster by using an improved algorithm. This is supposed to yield the same results; however, it's currently experimental, which is why it's an option."},null,8,["modelValue"]),o(N,{modelValue:e.form.benchmark,"onUpdate:modelValue":t[12]||(t[12]=a=>e.form.benchmark=a),title:"Benchmark",description:"If enabled, the backtest will compare the performance of the strategy against the buy and hold strategy of the market."},null,8,["modelValue"])])])):f("",!0),e.results.showResults?(r(),h("div",Lt,[_("div",null,[s(z)?(r(),$(G,{key:0,class:"mb-4",title:"Equity Curve"})):f("",!0),s(z)?(r(),$(Re,{key:1,data:e.results.charts.equity_curve},null,8,["data"])):f("",!0),s(z)?(r(),$(G,{key:2,class:"mt-16 mb-4",title:"Performance"})):f("",!0),s(z)?(r(),$(pe,{key:3,data:s(m).formattedMetrics(s(p))},null,8,["data"])):f("",!0),s(z)?f("",!0):(r(),h("div",jt," No trades were executed via this strategy! "))]),o(Te,{modelValue:s(x),"onUpdate:modelValue":t[14]||(t[14]=a=>ie(x)?x.value=a:null)},{title:U(()=>[o(me,{modelValue:e.results.selectedRoute,"onUpdate:modelValue":t[13]||(t[13]=a=>e.results.selectedRoute=a),"value-attribute":"value",options:s(Z)},null,8,["modelValue","options"])]),default:U(()=>[o(bt,{results:e.results,form:e.form},null,8,["results","form"])]),_:1},8,["modelValue"])])):f("",!0)]),right:U(()=>[e.results.executing?f("",!0):(r(),h("div",Et,[e.results.showResults?(r(),h("div",zt,[o(w,{class:"w-full flex justify-center",icon:"i-heroicons-arrow-path",size:"xl",variant:"solid",label:"Rerun",trailing:!1,onClick:t[15]||(t[15]=a=>s(T)((e._.provides[H]||e.$route).params.id))}),o(w,{class:"w-full flex justify-center mt-4",color:"green",icon:"i-heroicons-arrow-uturn-left",size:"xl",variant:"solid",label:"New session",trailing:!1,onClick:t[16]||(t[16]=a=>s(E)((e._.provides[H]||e.$route).params.id))}),e.form.debug_mode?(r(),$(w,{key:0,class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-clipboard-document-list",size:"xl",variant:"solid",label:"Debugging Logs",trailing:!1,onClick:t[17]||(t[17]=a=>L())})):f("",!0),e.form.export_chart?(r(),$(w,{key:1,class:"mt-4 flex justify-center items-center btn-secondary text-center",color:"gray",icon:"i-heroicons-chart-bar",size:"xl",block:"",variant:"solid",label:"View charts",trailing:!1,onClick:t[18]||(t[18]=a=>x.value=!0)})):f("",!0),e.form.export_csv&&s(z)?(r(),h("a",{key:2,href:s(ee),target:"_blank",class:"flex justify-center items-center btn-secondary text-center w-full"},[o(w,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"CSV",trailing:!1})],8,Ut)):f("",!0),e.form.export_json&&s(z)?(r(),h("a",{key:3,href:s(te),target:"_blank",class:"flex justify-center items-center btn-secondary text-center w-full"},[o(w,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"JSON",trailing:!1})],8,Ot)):f("",!0),e.form.export_tradingview&&s(z)?(r(),h("a",{key:4,href:s(K),target:"_blank",class:"flex justify-center items-center btn-secondary text-center mb-4 w-full"},[o(w,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-document-arrow-down",size:"xl",variant:"solid",label:"TradingView Pine Editor",trailing:!1})],8,Mt)):f("",!0),e.results.showResults&&e.results.alert&&e.results.alert.message?(r(),h("div",It,[o(oe,{color:"teal",icon:"i-heroicons-check-circle",variant:"soft",title:e.results.alert.message,"close-button":{icon:"i-heroicons-x-mark-20-solid",color:"white",variant:"link"},onClose:t[19]||(t[19]=a=>e.results.alert.message="")},null,8,["title"])])):f("",!0),o(ae,{class:"mt-8 mb-4",size:"lg",label:"General Info"}),o(Le,{data:e.results.info},null,8,["data"]),o(ae,{class:"mt-8 mb-4",size:"lg",label:"Routes"}),o(je,{data:e.results.routes_info,"header-items":["Symbol","Timeframe","Strategy"],header:""},null,8,["data"]),e.results.hyperparameters.length?(r(),$(ae,{key:6,class:"mt-8 mb-4",size:"lg",label:"Hyperparameters"})):f("",!0),e.results.hyperparameters.length?(r(),$(pe,{key:7,data:e.results.hyperparameters},null,8,["data"])):f("",!0)])):(r(),h("div",Bt,[o(w,{class:"w-full flex justify-center",icon:"i-heroicons-bolt",size:"xl",variant:"solid",label:"Start",trailing:!1,onClick:t[20]||(t[20]=a=>A((e._.provides[H]||e.$route).params.id))}),o(w,{class:"w-full flex justify-center mt-4",color:"gray",icon:"i-heroicons-plus",size:"xl",variant:"solid",label:"Start in a new tab",trailing:!1,onClick:t[21]||(t[21]=a=>J((e._.provides[H]||e.$route).params.id))})]))]))]),_:1})],64)}}}),Nt={class:"w-full"},Yt=Y({__name:"[id]",setup(O){nt({title:"Backtest - Jesse"});const l=Se(),u=C(()=>l.tabs),c=C(()=>tt().params.id),n=C(()=>{if(!u.value[c.value]){const y=Object.keys(u.value);if(y.length>0){const i=u.value[y[0]];return st().push(`/backtest/${i.id}`),i}}return u.value[c.value]});return Object.keys(u.value).length===0&&l.addTab(),(y,i)=>{const b=ze,g=Dt;return r(),h(X,null,[_("div",Nt,[o(b,{"current-tab":n.value?n.value.id:null,tabs:u.value,mode:"backtest",onClose:s(l).closeTab,onCancel:s(l).cancel},null,8,["current-tab","tabs","onClose","onCancel"])]),n.value?(r(),$(g,{key:0,form:n.value.form,results:n.value.results},null,8,["form","results"])):f("",!0)],64)}}});export{Yt as default};
