[tool.poetry]
name = "solidipes-solid-mech-plugin"
version = "0.0.7"
description = "Plugin for Solidipes with solid mechanics components"
authors = [
	"Son Pham-Ba <son.phamba@epfl.ch>",
	"Guillaume Anciaux <guillaume.anciaux@epfl.ch>",
]
license = "GPL-3.0-or-later"
readme = "README.md"
packages = [{include = "solidipes_solid_mech_plugin"}]

[tool.poetry.dependencies]
python = "^3.9.12,<3.13"
solidipes = ">=0.0.0"
solidipes-core-plugin = ">=0.0.5"
ipython = "^8.18.1"
mergedeep = "^1.3.4"
meshio = {extras = ["all"], version = "^5.3.5"}
pyvista = "^0.43.3"
stpyvista = "^0.0.8"
streamlit = "^1.37.0"
streamlit-pyvista = "^0.0.18"
trame = "^3.5.2"
build = {version = ">=1.0.3,<2.0.0", optional = true}
pillow = {version = "^9.5.0", optional = true}
pixelmatch = {version = "^0.3.0", optional = true}
pre-commit = {version = "^3.0.4", optional = true}
pytest = {version = "^8.1.1", optional = true}
pytest-cov = {version = "^5.0.0", optional = true}
seleniumbase = {version = "4.33.12", optional = true}
urllib3 = {version = "<2", optional = true}

[tool.poetry.extras]
dev = [
	"build",
	"pillow",
	"pixelmatch",
    "pre-commit",
	"pytest",
	"pytest-cov",
	"seleniumbase",
	"urllib3",
]
test = [
	"pillow",
	"pixelmatch",
	"pytest",
	"pytest-cov",
	"seleniumbase",
	"urllib3",
]

[tool.poetry.plugins."solidipes.plugins"]
solid-mech = "solidipes_solid_mech_plugin"

[build-system]
requires = ["poetry-core", "poetry-dynamic-versioning"]
build-backend = "poetry_dynamic_versioning.backend"

[tool.poetry-dynamic-versioning]
enable = false
vcs = "git"
style = "semver"

[tool.poetry-dynamic-versioning.substitution]
files = [
	"solidipes_solid_mech_plugin/__init__.py",
]

[tool.pytest.ini_options]
addopts = "--cov=solidipes_solid_mech_plugin --cov-report term-missing --cov-report xml --cov-report lcov:lcov.info"
testpaths = [
    "tests",
]

[tool.black]
line-length = 120
preview = true

[tool.isort]
line_length = 120
profile = "black"

[tool.codespell]
skip = 'poetry.lock,CHANGELOG.md'
