[build-system]
requires = ["setuptools>=45", "wheel", "setuptools_scm>=6.2"]
build-backend = "setuptools.build_meta"

[tool.setuptools_scm]
write_to = "nextdata/_version.py"

[tool.black]
line-length = 100
target-version = ['py39']
include = '\.pyi?$'

[tool.isort]
profile = "black"
multi_line_output = 3
line-length = 100
include_trailing_comma = true
force_grid_wrap = 0
use_parentheses = true
ensure_newline_before_comments = true

[tool.ruff]
line-length = 100
target-version = "py39"

# Enable all rules by default, then selectively disable
select = ["ALL"]
ignore = [
    "D203",   # one-blank-line-before-class
    "D212",   # multi-line-summary-first-line
    "ANN001", # missing-type-self
    "ANN002", # missing-type-cls
    "N812",   # lowercase imported as non-lowercase
    "D100",   # missing docstring
    "D101",   # missing docstring
    "D102",   # missing docstring
    "D103",   # missing module docstring
    "D107",   # missing module docstring
    "TRY300", # try-except-pass
    "G004",   # logging-not-lazy
    "FA100",
    "A005",
    "C901",
    "S608",   # SQL injection risk (we use trusted table paths)
    "INP001",
    "TRY003",
]

[tool.ruff.pydocstyle]
convention = "google"

[tool.ruff.per-file-ignores]
"tests/**/*" = ["D", "S101"]
"examples/**/*" = ["D"]
