var es=Object.defineProperty;var ts=(n,e,t)=>e in n?es(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var C=(n,e,t)=>ts(n,typeof e!="symbol"?e+"":e,t);import{n as J,W as ss,E as le,P as Bt,s as ne,e as F,c as j,b as B,f as _,p as v,i as I,y as Oe,h as y,z as se,L as Ne,r as Re,t as ee,d as te,j as ge,D as Mt,G as Ht,H as Ot,I as zt,J as nt,k as ye,K as rs,l as V,u as ze,B as Pt,o as ls,R as Je,A as We,a as L,g as N,a8 as ot,U as ns,C as me,Q as ce,a9 as Ue,w as Fe,x as je,aa as it,a6 as os}from"../chunks/scheduler.BHOyQEyZ.js";import{n as is,l as as,o as cs,p as us,S as oe,i as ie,b as G,d as W,m as K,a as T,t as R,e as q,g as X,c as x,f as Qe,j as fs,h as ds}from"../chunks/index.BAR3Oovo.js";import{d as Z,r as Se,w as _e,g as hs}from"../chunks/entry.Df3S6qAj.js";import{p as ps}from"../chunks/stores.CpocSgLq.js";import{g as he,a as Pe,e as re,u as Ae,h as _s,o as Le,b as De,j as gs,D as ms}from"../chunks/datasetStores.BxLs1CZU.js";import{i as bs,j as Lt,q as vs}from"../chunks/command.B0CVUGKN.js";import{b as $s,c as ws,s as ks,a as ys,d as Es,L as Cs,e as Ts,f as Is,g as Ds,h as Ss}from"../chunks/loader-2.BhS4tsx3.js";import{C as Fs,W as js}from"../chunks/checkbox.BbGMn1sV.js";import{B as Nt,P as Rs}from"../chunks/PrimaryButton.CfygmfaN.js";import{H as As}from"../chunks/Histogram.TXMZ_0Iz.js";function Bs(n,e,t,s){if(!e)return J;const r=n.getBoundingClientRect();if(e.left===r.left&&e.right===r.right&&e.top===r.top&&e.bottom===r.bottom)return J;const{delay:l=0,duration:o=300,easing:i=ss,start:a=is()+l,end:c=a+o,tick:d=J,css:$}=t(n,{from:e,to:r},s);let w=!0,g=!1,m;function f(){$&&(m=cs(n,0,1,o,l,i,$)),l||(g=!0)}function u(){$&&us(n,m),w=!1}return as(h=>{if(!g&&h>=a&&(g=!0),g&&h>=c&&(d(1,0),u()),!w)return!1;if(g){const p=h-a,b=0+1*i(p/o);d(b,1-b)}return!0}),f(),d(0,1),u}function Ms(n){const e=getComputedStyle(n);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:s}=e,r=n.getBoundingClientRect();n.style.position="absolute",n.style.width=t,n.style.height=s,Vt(n,r)}}function Vt(n,e){const t=n.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const s=getComputedStyle(n),r=s.transform==="none"?"":s.transform;n.style.transform=`${r} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}async function Hs(n,e=1,t=100,s){let r,l,o="";s&&s.model!==""&&s.search!==""&&(o=`&query=${s.search}&embedding_table=${s.model}`);try{const i=await fetch(`/browser/${n}/?skip=${(e-1)*t}&limit=${t}${o}`);i.ok?(l=await i.json(),r=new bs(l)):(r={},console.log("api.getBrowser -",i.status,i.statusText,await i.text()))}catch(i){r={},console.log("api.getBrowser -",i)}return r}function Os({fallback:n,...e}){const t=new Map,s=new Map;function r(o,i,a){const{delay:c=0,duration:d=z=>Math.sqrt(z)*30,easing:$=Lt}=le(le({},e),a),w=o.getBoundingClientRect(),g=i.getBoundingClientRect(),m=w.left-g.left,f=w.top-g.top,u=w.width/g.width,h=w.height/g.height,p=Math.sqrt(m*m+f*f),b=getComputedStyle(i),M=b.transform==="none"?"":b.transform,S=+b.opacity;return{delay:c,duration:Bt(d)?d(p):d,easing:$,css:(z,U)=>`
				opacity: ${z*S};
				transform-origin: top left;
				transform: ${M} translate(${U*m}px,${U*f}px) scale(${z+(1-z)*u}, ${z+(1-z)*h});
			`}}function l(o,i,a){return(c,d)=>(o.set(d.key,c),()=>{if(i.has(d.key)){const $=i.get(d.key);return i.delete(d.key),r($,c,d)}return o.delete(d.key),n&&n(c,d,a)})}return[l(s,t,!1),l(t,s,!0)]}const zs=!1,Ps=!1,Al=Object.freeze(Object.defineProperty({__proto__:null,prerender:zs,ssr:Ps},Symbol.toStringTag,{value:"Module"}));function Ls(n){let e,t,s;return t=new As({props:{hist:n[0],minimal:!0}}),{c(){e=F("div"),G(t.$$.fragment),this.h()},l(r){e=j(r,"DIV",{class:!0});var l=B(e);W(t.$$.fragment,l),l.forEach(_),this.h()},h(){v(e,"class","mx-8 h-24")},m(r,l){I(r,e,l),K(t,e,null),s=!0},p(r,[l]){const o={};l&1&&(o.hist=r[0]),t.$set(o)},i(r){s||(T(t.$$.fragment,r),s=!0)},o(r){R(t.$$.fragment,r),s=!1},d(r){r&&_(e),q(t)}}}function Ns(n,e,t){let{value:s}=e;return n.$$set=r=>{"value"in r&&t(0,s=r.value)},[s]}class Vs extends oe{constructor(e){super(),ie(this,e,Ns,Ls,ne,{value:0})}}function Gs(n){let e,t,s;return{c(){e=F("div"),t=F("img"),this.h()},l(r){e=j(r,"DIV",{class:!0});var l=B(e);t=j(l,"IMG",{class:!0,src:!0,alt:!0}),l.forEach(_),this.h()},h(){v(t,"class","h-full w-full object-cover rounded"),Oe(t.src,s=n[0])||v(t,"src",s),v(t,"alt",n[0]),v(e,"class","mx-8 h-20 aspect-square")},m(r,l){I(r,e,l),y(e,t)},p(r,[l]){l&1&&!Oe(t.src,s=r[0])&&v(t,"src",s),l&1&&v(t,"alt",r[0])},i:J,o:J,d(r){r&&_(e)}}}function Ks(n,e,t){let{value:s}=e;return n.$$set=r=>{"value"in r&&t(0,s=r.value)},[s]}class qs extends oe{constructor(e){super(),ie(this,e,Ks,Gs,ne,{value:0})}}function Us(n){let e,t,s,r,l;return{c(){e=F("div"),t=F("video"),this.h()},l(o){e=j(o,"DIV",{class:!0});var i=B(e);t=j(i,"VIDEO",{src:!0,class:!0}),B(t).forEach(_),i.forEach(_),this.h()},h(){Oe(t.src,s=n[0])||v(t,"src",s),t.loop=!0,t.muted=!0,v(t,"class","h-full w-full object-cover rounded"),v(e,"class","mx-8 h-20 aspect-square")},m(o,i){I(o,e,i),y(e,t),n[3](t),r||(l=[se(t,"mouseenter",n[2]),se(t,"mouseleave",n[2])],r=!0)},p(o,[i]){i&1&&!Oe(t.src,s=o[0])&&v(t,"src",s)},i:J,o:J,d(o){o&&_(e),n[3](null),r=!1,Ne(l)}}}function Js(n,e,t){let{value:s}=e,r,l=!1;function o(){l=!l,l?(t(1,r.playbackRate=4,r),r.play().catch(()=>console.error("video playback error"))):r.pause()}function i(a){Re[a?"unshift":"push"](()=>{r=a,t(1,r)})}return n.$$set=a=>{"value"in a&&t(0,s=a.value)},[s,r,o,i]}class Ws extends oe{constructor(e){super(),ie(this,e,Js,Us,ne,{value:0})}}function Qs(n){let e,t;return{c(){e=F("div"),t=ee(n[0]),this.h()},l(s){e=j(s,"DIV",{class:!0});var r=B(e);t=te(r,n[0]),r.forEach(_),this.h()},h(){v(e,"class","min-w-16 px-2")},m(s,r){I(s,e,r),y(e,t)},p(s,[r]){r&1&&ge(t,s[0])},i:J,o:J,d(s){s&&_(e)}}}function Ys(n,e,t){let{value:s}=e;return n.$$set=r=>{"value"in r&&t(0,s=r.value)},[s]}class at extends oe{constructor(e){super(),ie(this,e,Ys,Qs,ne,{value:0})}}function Zs(n){let e,t,s;return{c(){e=F("input"),this.h()},l(r){e=j(r,"INPUT",{type:!0,class:!0}),this.h()},h(){v(e,"type","checkbox"),e.disabled=!0,v(e,"class","px-4 pointer-events: none;")},m(r,l){I(r,e,l),e.checked=n[0],t||(s=se(e,"change",n[1]),t=!0)},p(r,[l]){l&1&&(e.checked=r[0])},i:J,o:J,d(r){r&&_(e),t=!1,s()}}}function Xs(n,e,t){let{value:s}=e;function r(){s=this.checked,t(0,s)}return n.$$set=l=>{"value"in l&&t(0,s=l.value)},[s,r]}class xs extends oe{constructor(e){super(),ie(this,e,Xs,Zs,ne,{value:0})}}function er(n){let e,t;return{c(){e=F("div"),t=ee(n[0]),this.h()},l(s){e=j(s,"DIV",{class:!0});var r=B(e);t=te(r,n[0]),r.forEach(_),this.h()},h(){v(e,"class","min-w-24 px-2")},m(s,r){I(s,e,r),y(e,t)},p(s,[r]){r&1&&ge(t,s[0])},i:J,o:J,d(s){s&&_(e)}}}function tr(n,e,t){let{value:s}=e;return n.$$set=r=>{"value"in r&&t(0,s=r.value)},[s]}class sr extends oe{constructor(e){super(),ie(this,e,tr,er,ne,{value:0})}}const Gt=n=>{const e=Object.entries(n),t=e.map(([s])=>s);return Z(e.map(([,s])=>s),s=>Object.fromEntries(s.map((r,l)=>[t[l],r])))},rr=n=>n&1,lr=n=>({}),ct=n=>({...n[0]});function nr(n){let e;const t=n[3].default,s=Mt(t,n,n[2],ct);return{c(){s&&s.c()},l(r){s&&s.l(r)},m(r,l){s&&s.m(r,l),e=!0},p(r,[l]){s&&s.p&&(!e||l&5)&&Ht(s,t,r,r[2],rr(l)||!e?Ot(r[2]):zt(t,r[2],l,lr),ct)},i(r){e||(T(s,r),e=!0)},o(r){R(s,r),e=!1},d(r){s&&s.d(r)}}}function or(n,e,t){const s=[];let r=nt(e,s),l,{$$slots:o={},$$scope:i}=e;const a=Gt(r);return ye(n,a,c=>t(0,l=c)),n.$$set=c=>{e=le(le({},e),rs(c)),t(4,r=nt(e,s)),"$$scope"in c&&t(2,i=c.$$scope)},[l,a,i,o]}class Be extends oe{constructor(e){super(),ie(this,e,or,nr,ne,{})}}function ut(n,e,t){const s=n.slice();return s[5]=e[t],s}function ir(n){let e,t,s;const r=[n[2]??{}];var l=n[1].component;function o(i,a){let c={$$slots:{default:[cr]},$$scope:{ctx:i}};for(let d=0;d<r.length;d+=1)c=le(c,r[d]);return a!==void 0&&a&4&&(c=le(c,he(r,[Pe(i[2]??{})]))),{props:c}}return l&&(e=ze(l,o(n)),n[4](e)),{c(){e&&G(e.$$.fragment),t=V()},l(i){e&&W(e.$$.fragment,i),t=V()},m(i,a){e&&K(e,i,a),I(i,t,a),s=!0},p(i,a){if(a&2&&l!==(l=i[1].component)){if(e){X();const c=e;R(c.$$.fragment,1,0,()=>{q(c,1)}),x()}l?(e=ze(l,o(i,a)),i[4](e),G(e.$$.fragment),T(e.$$.fragment,1),K(e,t.parentNode,t)):e=null}else if(l){const c=a&4?he(r,[Pe(i[2]??{})]):{};a&258&&(c.$$scope={dirty:a,ctx:i}),e.$set(c)}},i(i){s||(e&&T(e.$$.fragment,i),s=!0)},o(i){e&&R(e.$$.fragment,i),s=!1},d(i){i&&_(t),n[4](null),e&&q(e,i)}}}function ar(n){let e,t,s;const r=[n[2]??{}];var l=n[1].component;function o(i,a){let c={};for(let d=0;d<r.length;d+=1)c=le(c,r[d]);return a!==void 0&&a&4&&(c=le(c,he(r,[Pe(i[2]??{})]))),{props:c}}return l&&(e=ze(l,o(n)),n[3](e)),{c(){e&&G(e.$$.fragment),t=V()},l(i){e&&W(e.$$.fragment,i),t=V()},m(i,a){e&&K(e,i,a),I(i,t,a),s=!0},p(i,a){if(a&2&&l!==(l=i[1].component)){if(e){X();const c=e;R(c.$$.fragment,1,0,()=>{q(c,1)}),x()}l?(e=ze(l,o(i,a)),i[3](e),G(e.$$.fragment),T(e.$$.fragment,1),K(e,t.parentNode,t)):e=null}else if(l){const c=a&4?he(r,[Pe(i[2]??{})]):{};e.$set(c)}},i(i){s||(e&&T(e.$$.fragment,i),s=!0)},o(i){e&&R(e.$$.fragment,i),s=!1},d(i){i&&_(t),n[3](null),e&&q(e,i)}}}function ft(n){let e,t;return e=new Ze({props:{of:n[5]}}),{c(){G(e.$$.fragment)},l(s){W(e.$$.fragment,s)},m(s,r){K(e,s,r),t=!0},p(s,r){const l={};r&2&&(l.of=s[5]),e.$set(l)},i(s){t||(T(e.$$.fragment,s),t=!0)},o(s){R(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function cr(n){let e,t,s=re(n[1].children),r=[];for(let o=0;o<s.length;o+=1)r[o]=ft(ut(n,s,o));const l=o=>R(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=V()},l(o){for(let i=0;i<r.length;i+=1)r[i].l(o);e=V()},m(o,i){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,i);I(o,e,i),t=!0},p(o,i){if(i&2){s=re(o[1].children);let a;for(a=0;a<s.length;a+=1){const c=ut(o,s,a);r[a]?(r[a].p(c,i),T(r[a],1)):(r[a]=ft(c),r[a].c(),T(r[a],1),r[a].m(e.parentNode,e))}for(X(),a=s.length;a<r.length;a+=1)l(a);x()}},i(o){if(!t){for(let i=0;i<s.length;i+=1)T(r[i]);t=!0}},o(o){r=r.filter(Boolean);for(let i=0;i<r.length;i+=1)R(r[i]);t=!1},d(o){o&&_(e),Pt(r,o)}}}function ur(n){let e,t,s,r;const l=[ar,ir],o=[];function i(a,c){return a[1].children.length===0?0:1}return e=i(n),t=o[e]=l[e](n),{c(){t.c(),s=V()},l(a){t.l(a),s=V()},m(a,c){o[e].m(a,c),I(a,s,c),r=!0},p(a,[c]){let d=e;e=i(a),e===d?o[e].p(a,c):(X(),R(o[d],1,1,()=>{o[d]=null}),x(),t=o[e],t?t.p(a,c):(t=o[e]=l[e](a),t.c()),T(t,1),t.m(s.parentNode,s))},i(a){r||(T(t),r=!0)},o(a){R(t),r=!1},d(a){a&&_(s),o[e].d(a)}}}function fr(n,e,t){let{instance:s=void 0}=e,{config:r}=e,{props:l=void 0}=e;function o(a){Re[a?"unshift":"push"](()=>{s=a,t(0,s)})}function i(a){Re[a?"unshift":"push"](()=>{s=a,t(0,s)})}return n.$$set=a=>{"instance"in a&&t(0,s=a.instance),"config"in a&&t(1,r=a.config),"props"in a&&t(2,l=a.props)},[s,r,l,o,i]}class Kt extends oe{constructor(e){super(),ie(this,e,fr,ur,ne,{instance:0,config:1,props:2})}}const Ye=n=>(n==null?void 0:n.subscribe)instanceof Function,dr=Se(void 0);function hr(n){let e,t,s;function r(o){n[3](o)}let l={config:n[0],props:n[0].props};return n[1]!==void 0&&(l.instance=n[1]),e=new Kt({props:l}),Re.push(()=>Qe(e,"instance",r)),{c(){G(e.$$.fragment)},l(o){W(e.$$.fragment,o)},m(o,i){K(e,o,i),s=!0},p(o,i){const a={};i&1&&(a.config=o[0]),i&1&&(a.props=o[0].props),!t&&i&2&&(t=!0,a.instance=o[1],Je(()=>t=!1)),e.$set(a)},i(o){s||(T(e.$$.fragment,o),s=!0)},o(o){R(e.$$.fragment,o),s=!1},d(o){q(e,o)}}}function pr(n){let e,t;return e=new Be({props:{props:n[0].props,$$slots:{default:[_r,({props:s})=>({4:s}),({props:s})=>s?16:0]},$$scope:{ctx:n}}}),{c(){G(e.$$.fragment)},l(s){W(e.$$.fragment,s)},m(s,r){K(e,s,r),t=!0},p(s,r){const l={};r&1&&(l.props=s[0].props),r&51&&(l.$$scope={dirty:r,ctx:s}),e.$set(l)},i(s){t||(T(e.$$.fragment,s),t=!0)},o(s){R(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function _r(n){let e,t,s;function r(o){n[2](o)}let l={config:n[0],props:n[4]};return n[1]!==void 0&&(l.instance=n[1]),e=new Kt({props:l}),Re.push(()=>Qe(e,"instance",r)),{c(){G(e.$$.fragment)},l(o){W(e.$$.fragment,o)},m(o,i){K(e,o,i),s=!0},p(o,i){const a={};i&1&&(a.config=o[0]),i&16&&(a.props=o[4]),!t&&i&2&&(t=!0,a.instance=o[1],Je(()=>t=!1)),e.$set(a)},i(o){s||(T(e.$$.fragment,o),s=!0)},o(o){R(e.$$.fragment,o),s=!1},d(o){q(e,o)}}}function gr(n){let e,t,s,r,l;const o=[pr,hr],i=[];function a(c,d){return d&1&&(e=null),e==null&&(e=!!Ye(c[0].props)),e?0:1}return t=a(n,-1),s=i[t]=o[t](n),{c(){s.c(),r=V()},l(c){s.l(c),r=V()},m(c,d){i[t].m(c,d),I(c,r,d),l=!0},p(c,[d]){let $=t;t=a(c,d),t===$?i[t].p(c,d):(X(),R(i[$],1,1,()=>{i[$]=null}),x(),s=i[t],s?s.p(c,d):(s=i[t]=o[t](c),s.c()),T(s,1),s.m(r.parentNode,r))},i(c){l||(T(s),l=!0)},o(c){R(s),l=!1},d(c){c&&_(r),i[t].d(c)}}}function mr(n,e,t){let{config:s}=e,r;ls(function(){return s.eventHandlers.forEach(([a,c])=>{const d=r.$$.callbacks[a]??[];d.push(c),t(1,r.$$.callbacks[a]=d,r)}),function(){s.eventHandlers.forEach(([c,d])=>{const $=r.$$.callbacks[c],w=$.findIndex(g=>g===d);$.splice(w,1)})}});function l(i){r=i,t(1,r)}function o(i){r=i,t(1,r)}return n.$$set=i=>{"config"in i&&t(0,s=i.config)},[s,r,l,o]}class br extends oe{constructor(e){super(),ie(this,e,mr,gr,ne,{config:0})}}function vr(n){let e,t;return e=new br({props:{config:n[0]}}),{c(){G(e.$$.fragment)},l(s){W(e.$$.fragment,s)},m(s,r){K(e,s,r),t=!0},p(s,r){const l={};r&1&&(l.config=s[0]),e.$set(l)},i(s){t||(T(e.$$.fragment,s),t=!0)},o(s){R(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function $r(n){let e;return{c(){e=ee(n[0])},l(t){e=te(t,n[0])},m(t,s){I(t,e,s)},p(t,s){s&1&&ge(e,t[0])},i:J,o:J,d(t){t&&_(e)}}}function wr(n){let e;return{c(){e=ee(n[1])},l(t){e=te(t,n[1])},m(t,s){I(t,e,s)},p(t,s){s&2&&ge(e,t[1])},i:J,o:J,d(t){t&&_(e)}}}function kr(n){let e,t,s,r,l;const o=[wr,$r,vr],i=[];function a(c,d){return d&1&&(e=null),e==null&&(e=!!Ye(c[0])),e?0:typeof c[0]!="object"?1:2}return t=a(n,-1),s=i[t]=o[t](n),{c(){s.c(),r=V()},l(c){s.l(c),r=V()},m(c,d){i[t].m(c,d),I(c,r,d),l=!0},p(c,[d]){let $=t;t=a(c,d),t===$?i[t].p(c,d):(X(),R(i[$],1,1,()=>{i[$]=null}),x(),s=i[t],s?s.p(c,d):(s=i[t]=o[t](c),s.c()),T(s,1),s.m(r.parentNode,r))},i(c){l||(T(s),l=!0)},o(c){R(s),l=!1},d(c){c&&_(r),i[t].d(c)}}}function yr(n,e,t){let s,{of:r}=e;const l=Ye(r)?r:dr;return ye(n,l,o=>t(1,s=o)),n.$$set=o=>{"of"in o&&t(0,r=o.of)},[r,s,l]}class Ze extends oe{constructor(e){super(),ie(this,e,yr,kr,ne,{of:0})}}class Er{constructor(e,t){C(this,"component");C(this,"props");C(this,"eventHandlers",[]);C(this,"children",[]);this.component=e,this.props=t}on(e,t){return this.eventHandlers.push([e,t]),this}slot(...e){return this.children=e,this}}function Cr(n,e){return new Er(n,e)}class qt{constructor({header:e,footer:t,height:s,plugins:r}){C(this,"header");C(this,"footer");C(this,"height");C(this,"plugins");this.header=e,this.footer=t,this.height=s,this.plugins=r}isFlat(){return"__flat"in this}isData(){return"__data"in this}isDisplay(){return"__display"in this}isGroup(){return"__group"in this}}class Ut extends qt{constructor({header:t,footer:s,plugins:r,id:l}){super({header:t,footer:s,plugins:r,height:1});C(this,"__flat",!0);C(this,"id");this.id=l??String(t)}}class Tr extends Ut{constructor({header:t,footer:s,plugins:r,cell:l,accessor:o,id:i}){super({header:t,footer:s,plugins:r,id:"Initialization not complete"});C(this,"__data",!0);C(this,"cell");C(this,"accessorKey");C(this,"accessorFn");if(this.cell=l,o instanceof Function?this.accessorFn=o:this.accessorKey=o,i===void 0&&this.accessorKey===void 0&&t===void 0)throw new Error("A column id, string accessor, or header is required");const a=typeof this.accessorKey=="string"?this.accessorKey:null;this.id=i??a??String(t)}getValue(t){if(this.accessorFn!==void 0)return this.accessorFn(t);if(this.accessorKey!==void 0)return t[this.accessorKey]}}class Ir extends Ut{constructor({header:t,footer:s,plugins:r,id:l,cell:o,data:i}){super({header:t,footer:s,plugins:r,id:l});C(this,"__display",!0);C(this,"cell");C(this,"data");this.cell=o,this.data=i}}class Dr extends qt{constructor({header:t,footer:s,columns:r,plugins:l}){const o=Math.max(...r.map(i=>i.height))+1;super({header:t,footer:s,height:o,plugins:l});C(this,"__group",!0);C(this,"columns");C(this,"ids");this.columns=r,this.ids=Jt(r)}}const Jt=n=>n.flatMap(e=>e.isFlat()?[e.id]:e.isGroup()?e.ids:[]),Wt=n=>n.flatMap(e=>e.isFlat()?[e]:e.isGroup()?Wt(e.columns):[]),Sr=n=>{const e=new Map;return n.forEach(t=>{e.set(t,(e.get(t)??0)+1)}),e},Fr=n=>Array.from(Sr(n).entries()).filter(([,e])=>e!==1).map(([e])=>e),jr=n=>Object.entries(n).map(([e,t])=>`${e}:${t}`).join(";"),Rr=(n,e)=>n.style===void 0&&e.style===void 0?{...n,...e}:{...n,...e,style:{...typeof n.style=="object"?n.style:{},...typeof e.style=="object"?e.style:{}}},He=n=>n.style===void 0||typeof n.style!="object"?n:{...n,style:jr(n.style)};class Ve{constructor({id:e}){C(this,"id");C(this,"attrsForName",{});C(this,"propsForName",{});C(this,"state");this.id=e}attrs(){return Z(Object.values(this.attrsForName),e=>{let t={};return e.forEach(s=>{t=Rr(t,s)}),He(t)})}props(){return Gt(this.propsForName)}injectState(e){this.state=e}applyHook(e,t){t.props!==void 0&&(this.propsForName[e]=t.props),t.attrs!==void 0&&(this.attrsForName[e]=t.attrs)}}class Qt extends Ve{constructor({id:t,row:s}){super({id:t});C(this,"row");this.row=s}attrs(){return Z(super.attrs(),t=>({...t,role:"cell"}))}rowColId(){return`${this.row.id}:${this.column.id}`}dataRowColId(){if(this.row.isData())return`${this.row.dataId}:${this.column.id}`}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class Xe extends Qt{constructor({row:t,column:s,label:r,value:l}){super({id:s.id,row:t});C(this,"__data",!0);C(this,"column");C(this,"label");C(this,"value");this.column=s,this.label=r,this.value=l}render(){if(this.label===void 0)return`${this.value}`;if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new Xe({row:this.row,column:this.column,label:this.label,value:this.value})}}class xe extends Qt{constructor({row:t,column:s,label:r}){super({id:s.id,row:t});C(this,"__display",!0);C(this,"column");C(this,"label");this.column=s,this.label=r}render(){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}clone(){return new xe({row:this.row,column:this.column,label:this.label})}}const ke=n=>n!==void 0;class Ar extends Ve{constructor({id:t,cells:s,cellForId:r,depth:l=0,parentRow:o}){super({id:t});C(this,"cells");C(this,"cellForId");C(this,"depth");C(this,"parentRow");C(this,"subRows");this.cells=s,this.cellForId=r,this.depth=l,this.parentRow=o}attrs(){return Z(super.attrs(),t=>({...t,role:"row"}))}isData(){return"__data"in this}isDisplay(){return"__display"in this}}class et extends Ar{constructor({id:t,dataId:s,original:r,cells:l,cellForId:o,depth:i=0,parentRow:a}){super({id:t,cells:l,cellForId:o,depth:i,parentRow:a});C(this,"__data",!0);C(this,"dataId");C(this,"original");this.dataId=s,this.original=r}clone({includeCells:t=!1,includeSubRows:s=!1}={}){var l;const r=new et({id:this.id,dataId:this.dataId,cellForId:this.cellForId,cells:this.cells,original:this.original,depth:this.depth});if(t){const o=Object.fromEntries(Object.entries(r.cellForId).map(([a,c])=>{const d=c.clone();return d.row=r,[a,d]})),i=r.cells.map(({id:a})=>o[a]);r.cellForId=o,r.cells=i}if(s){const o=(l=this.subRows)==null?void 0:l.map(i=>i.clone({includeCells:t,includeSubRows:s}));r.subRows=o}else r.subRows=this.subRows;return r}}const Br=(n,e,{rowDataId:t}={})=>{const s=n.map((r,l)=>{const o=l.toString();return new et({id:o,dataId:t!==void 0?t(r,l):o,original:r,cells:[],cellForId:{}})});return n.forEach((r,l)=>{const o=e.map(i=>{if(i.isData()){const a=i,c=a.getValue(r);return new Xe({row:s[l],column:a,label:i.cell,value:c})}if(i.isDisplay()){const a=i;return new xe({row:s[l],column:a,label:i.cell})}throw new Error("Unrecognized `FlatColumn` implementation")});s[l].cells=o,e.forEach((i,a)=>{s[l].cellForId[i.id]=o[a]})}),s},Mr=(n,e)=>{const t=n.map(s=>{const r=s.clone();return r.cells=[],r.cellForId={},r});return n.length===0||e.length===0?n:(n.forEach((s,r)=>{const l=s.cells.map(i=>{const a=i.clone();return a.row=t[r],a}),o=e.map(i=>l.find(a=>a.id===i)).filter(ke);t[r].cells=o,l.forEach(i=>{t[r].cellForId[i.id]=i})}),t)},Yt=" ";class Zt extends Ve{constructor({id:t,label:s,colspan:r,colstart:l}){super({id:t});C(this,"label");C(this,"colspan");C(this,"colstart");this.label=s,this.colspan=r,this.colstart=l}render(){if(this.label instanceof Function){if(this.state===void 0)throw new Error("Missing `state` reference");return this.label(this,this.state)}return this.label}attrs(){return Z(super.attrs(),t=>({...t,role:"columnheader",colspan:this.colspan}))}isFlat(){return"__flat"in this}isData(){return"__data"in this}isFlatDisplay(){return"__flat"in this&&"__display"in this}isGroup(){return"__group"in this}isGroupDisplay(){return"__group"in this&&"__display"in this}}class Ge extends Zt{constructor({id:t,label:s,colstart:r}){super({id:t,label:s,colspan:1,colstart:r});C(this,"__flat",!0)}clone(){return new Ge({id:this.id,label:this.label,colstart:this.colstart})}}class tt extends Ge{constructor({id:t,label:s,accessorKey:r,accessorFn:l,colstart:o}){super({id:t,label:s,colstart:o});C(this,"__data",!0);C(this,"accessorKey");C(this,"accessorFn");this.accessorKey=r,this.accessorFn=l}clone(){return new tt({id:this.id,label:this.label,accessorFn:this.accessorFn,accessorKey:this.accessorKey,colstart:this.colstart})}}class Ke extends Ge{constructor({id:t,label:s=Yt,colstart:r}){super({id:t,label:s,colstart:r});C(this,"__display",!0)}clone(){return new Ke({id:this.id,label:this.label,colstart:this.colstart})}}class qe extends Zt{constructor({label:t,ids:s,allIds:r,colspan:l,colstart:o}){super({id:`[${s.join(",")}]`,label:t,colspan:l,colstart:o});C(this,"__group",!0);C(this,"ids");C(this,"allId");C(this,"allIds");this.ids=s,this.allId=`[${r.join(",")}]`,this.allIds=r}setIds(t){this.ids=t,this.id=`[${this.ids.join(",")}]`}pushId(t){this.ids=[...this.ids,t],this.id=`[${this.ids.join(",")}]`}clone(){return new qe({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}class st extends qe{constructor({label:t=Yt,ids:s,allIds:r,colspan:l=1,colstart:o}){super({label:t,ids:s,allIds:r,colspan:l,colstart:o});C(this,"__display",!0)}clone(){return new st({label:this.label,ids:this.ids,allIds:this.allIds,colspan:this.colspan,colstart:this.colstart})}}const Hr=n=>n.reduce((e,t)=>e+t,0),Xt=(n,e)=>{const t=[];for(let s=0;s<e;s++)t.push(Array(n).fill(null));return t},dt=n=>{const e=n.length;if(e===0)return n;const t=n[0].length,s=Xt(e,t);for(let r=0;r<t;r++)for(let l=0;l<e;l++)s[r][l]=n[l][r];return s};class rt extends Ve{constructor({id:t,cells:s}){super({id:t});C(this,"cells");this.cells=s}attrs(){return Z(super.attrs(),t=>({...t,role:"row"}))}clone(){return new rt({id:this.id,cells:this.cells})}}const Or=(n,e=[])=>{const t=zr(n);let s=dt(t);return s=Pr(s,e),Lr(s),Nr(dt(s))},zr=n=>{const e=Hr(n.map(l=>l.isGroup()?l.ids.length:1)),t=Math.max(...n.map(l=>l.height)),s=Xt(e,t);let r=0;return n.forEach(l=>{const o=t-l.height;xt(s,l,o,r),r+=l.isGroup()?l.ids.length:1}),s.map((l,o)=>l.map((i,a)=>{var d;if(i!==null)return i;if(o===t-1)return new Ke({id:a.toString(),colstart:a});const c=((d=s[t-1][a])==null?void 0:d.id)??a.toString();return new st({ids:[],allIds:[c],colstart:a})}))},xt=(n,e,t,s)=>{if(e.isData()){n[n.length-1][s]=new tt({label:e.header,accessorFn:e.accessorFn,accessorKey:e.accessorKey,id:e.id,colstart:s});return}if(e.isDisplay()){n[n.length-1][s]=new Ke({id:e.id,label:e.header,colstart:s});return}if(e.isGroup()){for(let l=0;l<e.ids.length;l++)n[t][s+l]=new qe({label:e.header,colspan:1,allIds:e.ids,ids:[],colstart:s});let r=0;e.columns.forEach(l=>{xt(n,l,t+1,s+r),r+=l.isGroup()?l.ids.length:1});return}},Pr=(n,e)=>{if(e.length===0)return n;const t=[];return e.forEach((s,r)=>{const l=n.find(o=>{const i=o[o.length-1];if(!i.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");return i.id===s});l!==void 0&&t.push(l.map(o=>{const i=o.clone();return i.colstart=r,i}))}),t},Lr=n=>{n.forEach(e=>{const t=e[e.length-1];if(!t.isFlat())throw new Error("The last element of each column must be a `FlatHeaderCell`");e.forEach(s=>{s.isGroup()&&s.pushId(t.id)})})},Nr=n=>n.map((e,t)=>new rt({id:t.toString(),cells:Vr(e)})),Vr=n=>{if(n.length===0)return n;const e=[];let t=0,s=1;for(;t<n.length;){const r=n[t].clone();if(!r.isGroup()){e.push(r),t++;continue}s=t+1;const l=[...r.ids];for(;s<n.length;){const o=n[s];if(!o.isGroup()||r.allId!==o.allId)break;l.push(...o.ids),s++}r.setIds(l),r.colspan=s-t,e.push(r),t=s}return e},Gr=(n,e,{rowDataId:t}={})=>{const{data:s,plugins:r}=n,l=Wt(e),o=Se(l),i=Z([s,o],([E,H])=>Br(E,H,{rowDataId:t})),a=_e([]),c=_e(),d=_e([]),$=_e([]),w=_e({role:"table"}),g=_e({}),m=_e({role:"rowgroup"}),f={data:s,columns:e,flatColumns:l,tableAttrs:w,tableHeadAttrs:g,tableBodyAttrs:m,visibleColumns:a,headerRows:c,originalRows:i,rows:d,pageRows:$},u=Object.fromEntries(Object.entries(r).map(([E,H])=>{const P=Object.fromEntries(l.map(Q=>{var de;const Y=(de=Q.plugins)==null?void 0:de[E];if(Y!==void 0)return[Q.id,Y]}).filter(ke));return[E,H({pluginName:E,tableState:f,columnOptions:P})]})),h=Object.fromEntries(Object.entries(u).map(([E,H])=>[E,H.pluginState])),p={data:s,columns:e,flatColumns:l,tableAttrs:w,tableHeadAttrs:g,tableBodyAttrs:m,visibleColumns:a,headerRows:c,originalRows:i,rows:d,pageRows:$,pluginStates:h},b=Object.values(u).map(E=>E.deriveTableAttrs).filter(ke);let M=Se({role:"table"});b.forEach(E=>{M=E(M)});const S=Z(M,E=>{const H=He(E);return w.set(H),H}),z=Object.values(u).map(E=>E.deriveTableBodyAttrs).filter(ke);let U=Se({});z.forEach(E=>{U=E(U)});const be=Z(U,E=>{const H=He(E);return g.set(H),H}),ae=Object.values(u).map(E=>E.deriveTableBodyAttrs).filter(ke);let ue=Se({role:"rowgroup"});ae.forEach(E=>{ue=E(ue)});const Ee=Z(ue,E=>{const H=He(E);return m.set(H),H}),fe=Object.values(u).map(E=>E.deriveFlatColumns).filter(ke);let ve=o;fe.forEach(E=>{ve=E(ve)});const pe=Z(ve,E=>(a.set(E),E)),$e=Z([i,pe],([E,H])=>Mr(E,H.map(P=>P.id))),Ce=Object.values(u).map(E=>E.deriveRows).filter(ke);let A=$e;Ce.forEach(E=>{A=E(A)});const k=Z(A,E=>(E.forEach(H=>{H.injectState(p),H.cells.forEach(P=>{P.injectState(p)})}),Object.entries(u).forEach(([H,P])=>{E.forEach(Q=>{var Y;((Y=P.hooks)==null?void 0:Y["tbody.tr"])!==void 0&&Q.applyHook(H,P.hooks["tbody.tr"](Q)),Q.cells.forEach(de=>{var we;((we=P.hooks)==null?void 0:we["tbody.tr.td"])!==void 0&&de.applyHook(H,P.hooks["tbody.tr.td"](de))})})}),d.set(E),E)),D=Object.values(u).map(E=>E.derivePageRows).filter(ke);let O=k;D.forEach(E=>{O=E(O)});const Te=Z(O,E=>(E.forEach(H=>{H.injectState(p),H.cells.forEach(P=>{P.injectState(p)})}),Object.entries(u).forEach(([H,P])=>{E.forEach(Q=>{var Y;((Y=P.hooks)==null?void 0:Y["tbody.tr"])!==void 0&&Q.applyHook(H,P.hooks["tbody.tr"](Q)),Q.cells.forEach(de=>{var we;((we=P.hooks)==null?void 0:we["tbody.tr.td"])!==void 0&&de.applyHook(H,P.hooks["tbody.tr.td"](de))})})}),$.set(E),E)),Me=Z(pe,E=>{const H=Or(e,E.map(P=>P.id));return H.forEach(P=>{P.injectState(p),P.cells.forEach(Q=>{Q.injectState(p)})}),Object.entries(u).forEach(([P,Q])=>{H.forEach(Y=>{var de;((de=Q.hooks)==null?void 0:de["thead.tr"])!==void 0&&Y.applyHook(P,Q.hooks["thead.tr"](Y)),Y.cells.forEach(we=>{var lt;((lt=Q.hooks)==null?void 0:lt["thead.tr.th"])!==void 0&&we.applyHook(P,Q.hooks["thead.tr.th"](we))})})}),c.set(H),H});return{tableAttrs:S,tableHeadAttrs:be,tableBodyAttrs:Ee,visibleColumns:pe,flatColumns:l,headerRows:Me,originalRows:i,rows:k,pageRows:Te,pluginStates:h}};let Kr=class{constructor(e,t){C(this,"data");C(this,"plugins");this.data=e,this.plugins=t}createColumns(e){const t=Jt(e),s=Fr(t);if(s.length!==0)throw new Error(`Duplicate column ids not allowed: "${s.join('", "')}"`);return e}column(e){return new Tr(e)}group(e){return new Dr(e)}display(e){return new Ir(e)}createViewModel(e,t){return Gr(this,e,t)}};const qr=(n,e={})=>new Kr(n,e),Ie=n=>e=>Cr(n,{value:e.value}),Ur={image:Ie(qs),int:Ie(at),float:Ie(at),bool:Ie(xs),str:Ie(sr),video:Ie(Ws),histogram:Ie(Vs)};function Jr(n,{from:e,to:t},s={}){const r=getComputedStyle(n),l=r.transform==="none"?"":r.transform,[o,i]=r.transformOrigin.split(" ").map(parseFloat),a=e.left+e.width*o/t.width-(t.left+o),c=e.top+e.height*i/t.height-(t.top+i),{delay:d=0,duration:$=g=>Math.sqrt(g)*120,easing:w=Lt}=s;return{delay:d,duration:Bt($)?$(Math.sqrt(a*a+c*c)):$,easing:w,css:(g,m)=>{const f=m*a,u=m*c,h=g+m*e.width/t.width,p=g+m*e.height/t.height;return`transform: ${l} translate(${f}px, ${u}px) scale(${h}, ${p});`}}}function ht(n,e,t){const s=n.slice();return s[15]=e[t],s[17]=t,s}const Wr=n=>({item:n&1,index:n&1}),pt=n=>({item:n[15],index:n[17]});function _t(n){let e,t=[],s=new Map,r,l=re(n[0]);const o=i=>i[8](i[15]);for(let i=0;i<l.length;i+=1){let a=ht(n,l,i),c=o(a);s.set(c,t[i]=gt(c,a))}return{c(){e=F("ul");for(let i=0;i<t.length;i+=1)t[i].c();this.h()},l(i){e=j(i,"UL",{class:!0});var a=B(e);for(let c=0;c<t.length;c+=1)t[c].l(a);a.forEach(_),this.h()},h(){v(e,"class","svelte-s1iyrp")},m(i,a){I(i,e,a);for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(e,null);r=!0},p(i,a){if(a&1523){l=re(i[0]),X();for(let c=0;c<t.length;c+=1)t[c].r();t=Ae(t,a,o,1,i,l,s,e,_s,gt,null,ht);for(let c=0;c<t.length;c+=1)t[c].a();x()}},i(i){if(!r){for(let a=0;a<l.length;a+=1)T(t[a]);r=!0}},o(i){for(let a=0;a<t.length;a+=1)R(t[a]);r=!1},d(i){i&&_(e);for(let a=0;a<t.length;a+=1)t[a].d()}}}function Qr(n){let e,t=n[8](n[15])+"",s;return{c(){e=F("p"),s=ee(t)},l(r){e=j(r,"P",{});var l=B(e);s=te(l,t),l.forEach(_)},m(r,l){I(r,e,l),y(e,s)},p(r,l){l&1&&t!==(t=r[8](r[15])+"")&&ge(s,t)},d(r){r&&_(e)}}}function gt(n,e){let t,s,r,l,o,i,a,c=J,d,$,w;const g=e[11].default,m=Mt(g,e,e[10],pt),f=m||Qr(e);return{key:n,first:null,c(){t=F("li"),f&&f.c(),s=L(),this.h()},l(u){t=j(u,"LI",{"data-index":!0,"data-id":!0,draggable:!0,class:!0});var h=B(t);f&&f.l(h),s=N(h),h.forEach(_),this.h()},h(){v(t,"data-index",r=e[17]),v(t,"data-id",l=JSON.stringify(e[8](e[15]))),v(t,"draggable","true"),v(t,"class","svelte-s1iyrp"),ot(t,"over",e[8](e[15])===e[1]),this.first=t},m(u,h){I(u,t,h),f&&f.m(t,null),y(t,s),d=!0,$||(w=[se(t,"dragstart",e[4]),se(t,"dragover",e[5]),se(t,"dragleave",e[6]),se(t,"drop",e[7])],$=!0)},p(u,h){e=u,m?m.p&&(!d||h&1025)&&Ht(m,g,e,e[10],d?zt(g,e[10],h,Wr):Ot(e[10]),pt):f&&f.p&&(!d||h&1)&&f.p(e,d?h:-1),(!d||h&1&&r!==(r=e[17]))&&v(t,"data-index",r),(!d||h&1&&l!==(l=JSON.stringify(e[8](e[15]))))&&v(t,"data-id",l),(!d||h&259)&&ot(t,"over",e[8](e[15])===e[1])},r(){a=t.getBoundingClientRect()},f(){Ms(t),c(),Vt(t,a)},a(){c(),c=Bs(t,a,Jr,{duration:300})},i(u){d||(T(f,u),u&&ns(()=>{d&&(i&&i.end(1),o=fs(t,e[3],{key:e[8](e[15])}),o.start())}),d=!0)},o(u){R(f,u),o&&o.invalidate(),u&&(i=ds(t,e[2],{key:e[8](e[15])})),d=!1},d(u){u&&_(t),f&&f.d(u),u&&i&&i.end(),$=!1,Ne(w)}}}function Yr(n){let e,t,s=n[0]&&n[0].length&&_t(n);return{c(){s&&s.c(),e=V()},l(r){s&&s.l(r),e=V()},m(r,l){s&&s.m(r,l),I(r,e,l),t=!0},p(r,[l]){r[0]&&r[0].length?s?(s.p(r,l),l&1&&T(s,1)):(s=_t(r),s.c(),T(s,1),s.m(e.parentNode,e)):s&&(X(),R(s,1,1,()=>{s=null}),x())},i(r){t||(T(s),t=!0)},o(r){R(s),t=!1},d(r){r&&_(e),s&&s.d(r)}}}function Zr(n,e,t){let{$$slots:s={},$$scope:r}=e;const[l,o]=Os({duration:p=>Math.sqrt(p*200),fallback(p,b){const M=getComputedStyle(p),S=M.transform==="none"?"":M.transform;return{duration:600,easing:vs,css:z=>`
					transform: ${S} scale(${z});
					opacity: ${z}
				`}}});let i=!1;const a=p=>p.dataset.index&&p.dataset||a(p.parentNode),c=p=>{p.dataTransfer.setData("source",p.target.dataset.index)},d=p=>{p.preventDefault();let b=a(p.target);i!==b.id&&t(1,i=JSON.parse(b.id))},$=p=>{let b=a(p.target);i===b.id&&t(1,i=!1)},w=p=>{t(1,i=!1),p.preventDefault();let b=a(p.target),M=p.dataTransfer.getData("source"),S=b.index;m({from:M,to:S})},g=We(),m=({from:p,to:b})=>{let M=[...u];M[p]=[M[b],M[b]=M[p]][0],g("sort",M)},f=p=>h?p[h]:p;let{list:u}=e,{key:h}=e;return n.$$set=p=>{"list"in p&&t(0,u=p.list),"key"in p&&t(9,h=p.key),"$$scope"in p&&t(10,r=p.$$scope)},[u,i,l,o,c,d,$,w,f,h,r,s]}class Xr extends oe{constructor(e){super(),ie(this,e,Zr,Yr,ne,{list:0,key:9})}}const xr=({initialColumnIdOrder:n=[],hideUnspecifiedColumns:e=!1}={})=>()=>{const t=_e(n);return{pluginState:{columnIdOrder:t},deriveFlatColumns:l=>Z([l,t],([o,i])=>{const a=[...o],c=[];return i.forEach(d=>{const $=a.findIndex(w=>w.id===d);c.push(...a.splice($,1))}),e||c.push(...a),c})}};Se(void 0);const el=({initialHiddenColumnIds:n=[]}={})=>()=>{const e=_e(n);return{pluginState:{hiddenColumnIds:e},deriveFlatColumns:r=>Z([r,e],([l,o])=>o.length===0?l:l.filter(i=>!o.includes(i.id)))}};function mt(n,e,t){const s=n.slice();return s[30]=e[t],s}function bt(n,e,t){const s=n.slice();return s[34]=e[t],s}function vt(n,e,t){const s=n.slice();return s[38]=e[t],s}function $t(n,e,t){const s=n.slice();return s[34]=e[t],s}function tl(n){let e,t,s,r,l,o=n[43]+"",i,a,c,d,$,w;function g(f){n[16](f,n[43])}let m={id:n[43]};return n[1][n[43]]!==void 0&&(m.checked=n[1][n[43]]),t=new Fs({props:m}),Re.push(()=>Qe(t,"checked",g)),{c(){e=F("div"),G(t.$$.fragment),r=L(),l=F("label"),i=ee(o),c=L(),d=Fe("svg"),$=Fe("path"),this.h()},l(f){e=j(f,"DIV",{class:!0});var u=B(e);W(t.$$.fragment,u),r=N(u),l=j(u,"LABEL",{for:!0,class:!0});var h=B(l);i=te(h,o),h.forEach(_),c=N(u),d=je(u,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var p=B(d);$=je(p,"path",{d:!0,fill:!0}),B($).forEach(_),p.forEach(_),u.forEach(_),this.h()},h(){v(l,"for",a=n[43]),v(l,"class","text-sm select-none grow cursor-pointer"),v($,"d",$s),v($,"fill","grey"),v(d,"xmlns","http://www.w3.org/2000/svg"),v(d,"height","48"),v(d,"viewBox","0 -960 960 960"),v(d,"width","48"),v(d,"class","h-6 w-6 cursor-move"),v(e,"class","py-1 px-2 flex items-center space-x-2 border rounded-sm")},m(f,u){I(f,e,u),K(t,e,null),y(e,r),y(e,l),y(l,i),y(e,c),y(e,d),y(d,$),w=!0},p(f,u){n=f;const h={};u[1]&4096&&(h.id=n[43]),!s&&u[0]&2|u[1]&4096&&(s=!0,h.checked=n[1][n[43]],Je(()=>s=!1)),t.$set(h),(!w||u[1]&4096)&&o!==(o=n[43]+"")&&ge(i,o),(!w||u[1]&4096&&a!==(a=n[43]))&&v(l,"for",a)},i(f){w||(T(t.$$.fragment,f),w=!0)},o(f){R(t.$$.fragment,f),w=!1},d(f){f&&_(e),q(t)}}}function sl(n){let e;return{c(){e=ee("Done")},l(t){e=te(t,"Done")},m(t,s){I(t,e,s)},d(t){t&&_(e)}}}function rl(n){let e,t,s;t=new Ze({props:{of:n[34].render()}});let r=[n[37],{class:"relative py-4 font-semibold"}],l={};for(let o=0;o<r.length;o+=1)l=le(l,r[o]);return{c(){e=F("th"),G(t.$$.fragment),this.h()},l(o){e=j(o,"TH",{class:!0});var i=B(e);W(t.$$.fragment,i),i.forEach(_),this.h()},h(){ce(e,l)},m(o,i){I(o,e,i),K(t,e,null),s=!0},p(o,i){const a={};i[0]&32&&(a.of=o[34].render()),t.$set(a),ce(e,l=he(r,[i[1]&64&&o[37],{class:"relative py-4 font-semibold"}]))},i(o){s||(T(t.$$.fragment,o),s=!0)},o(o){R(t.$$.fragment,o),s=!1},d(o){o&&_(e),q(t)}}}function wt(n,e){let t,s,r;return s=new Be({props:{attrs:e[34].attrs(),$$slots:{default:[rl,({attrs:l})=>({37:l}),({attrs:l})=>[0,l?64:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=V(),G(s.$$.fragment),this.h()},l(l){t=V(),W(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,o){I(l,t,o),K(s,l,o),r=!0},p(l,o){e=l;const i={};o[0]&32&&(i.attrs=e[34].attrs()),o[0]&32|o[1]&8256&&(i.$$scope={dirty:o,ctx:e}),s.$set(i)},i(l){r||(T(s.$$.fragment,l),r=!0)},o(l){R(s.$$.fragment,l),r=!1},d(l){l&&_(t),q(s,l)}}}function ll(n){let e,t,s;return{c(){e=Fe("svg"),t=Fe("title"),s=Fe("path"),this.h()},l(r){e=je(r,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var l=B(e);t=je(l,"title",{}),B(t).forEach(_),s=je(l,"path",{d:!0,fill:!0}),B(s).forEach(_),l.forEach(_),this.h()},h(){v(s,"d",ws),v(s,"fill","#111"),v(e,"xmlns","http://www.w3.org/2000/svg"),v(e,"height","48"),v(e,"viewBox","0 -960 960 960"),v(e,"width","48"),v(e,"class","h-6 w-6")},m(r,l){I(r,e,l),y(e,t),y(e,s)},p:J,d(r){r&&_(e)}}}function nl(n){let e,t=[],s=new Map,r,l,o,i,a,c,d,$=re(n[38].cells);const w=f=>f[34].id;for(let f=0;f<$.length;f+=1){let u=$t(n,$,f),h=w(u);s.set(h,t[f]=wt(h,u))}a=new Nt({props:{variant:"ghost",$$slots:{default:[ll]},$$scope:{ctx:n}}}),a.$on("click",n[18]);let g=[n[33],{class:"sticky top-0 bg-white shadow-sm shadow-slate-300 border-b border-b-slate-400"}],m={};for(let f=0;f<g.length;f+=1)m=le(m,g[f]);return{c(){e=F("tr");for(let f=0;f<t.length;f+=1)t[f].c();r=L(),l=F("th"),o=L(),i=F("th"),G(a.$$.fragment),c=L(),this.h()},l(f){e=j(f,"TR",{class:!0});var u=B(e);for(let p=0;p<t.length;p+=1)t[p].l(u);r=N(u),l=j(u,"TH",{class:!0}),B(l).forEach(_),o=N(u),i=j(u,"TH",{class:!0});var h=B(i);W(a.$$.fragment,h),h.forEach(_),u.forEach(_),c=N(f),this.h()},h(){v(l,"class","w-full"),v(i,"class","pr-4"),ce(e,m)},m(f,u){I(f,e,u);for(let h=0;h<t.length;h+=1)t[h]&&t[h].m(e,null);y(e,r),y(e,l),y(e,o),y(e,i),K(a,i,null),I(f,c,u),d=!0},p(f,u){u[0]&32|u[1]&64&&($=re(f[38].cells),X(),t=Ae(t,u,w,1,f,$,s,e,Le,wt,r,$t),x());const h={};u[1]&8192&&(h.$$scope={dirty:u,ctx:f}),a.$set(h),ce(e,m=he(g,[u[1]&4&&f[33],{class:"sticky top-0 bg-white shadow-sm shadow-slate-300 border-b border-b-slate-400"}]))},i(f){if(!d){for(let u=0;u<$.length;u+=1)T(t[u]);T(a.$$.fragment,f),d=!0}},o(f){for(let u=0;u<t.length;u+=1)R(t[u]);R(a.$$.fragment,f),d=!1},d(f){f&&(_(e),_(c));for(let u=0;u<t.length;u+=1)t[u].d();q(a)}}}function kt(n,e){let t,s,r;return s=new Be({props:{rowAttrs:e[38].attrs(),$$slots:{default:[nl,({rowAttrs:l})=>({33:l}),({rowAttrs:l})=>[0,l?4:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=V(),G(s.$$.fragment),this.h()},l(l){t=V(),W(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,o){I(l,t,o),K(s,l,o),r=!0},p(l,o){e=l;const i={};o[0]&32&&(i.rowAttrs=e[38].attrs()),o[0]&36|o[1]&8196&&(i.$$scope={dirty:o,ctx:e}),s.$set(i)},i(l){r||(T(s.$$.fragment,l),r=!0)},o(l){R(s.$$.fragment,l),r=!1},d(l){l&&_(t),q(s,l)}}}function ol(n){let e,t,s;t=new Ze({props:{of:n[34].render()}});let r=[n[37],{class:"border-b border-slate-300"}],l={};for(let o=0;o<r.length;o+=1)l=le(l,r[o]);return{c(){e=F("td"),G(t.$$.fragment),this.h()},l(o){e=j(o,"TD",{class:!0});var i=B(e);W(t.$$.fragment,i),i.forEach(_),this.h()},h(){ce(e,l)},m(o,i){I(o,e,i),K(t,e,null),s=!0},p(o,i){const a={};i[0]&128&&(a.of=o[34].render()),t.$set(a),ce(e,l=he(r,[i[1]&64&&o[37],{class:"border-b border-slate-300"}]))},i(o){s||(T(t.$$.fragment,o),s=!0)},o(o){R(t.$$.fragment,o),s=!1},d(o){o&&_(e),q(t)}}}function yt(n,e){let t,s,r;return s=new Be({props:{attrs:e[34].attrs(),$$slots:{default:[ol,({attrs:l})=>({37:l}),({attrs:l})=>[0,l?64:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=V(),G(s.$$.fragment),this.h()},l(l){t=V(),W(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,o){I(l,t,o),K(s,l,o),r=!0},p(l,o){e=l;const i={};o[0]&128&&(i.attrs=e[34].attrs()),o[0]&128|o[1]&8256&&(i.$$scope={dirty:o,ctx:e}),s.$set(i)},i(l){r||(T(s.$$.fragment,l),r=!0)},o(l){R(s.$$.fragment,l),r=!1},d(l){l&&_(t),q(s,l)}}}function il(n){let e,t=[],s=new Map,r,l,o,i,a=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 mx-auto p-1 ml-3 border rounded-full border-slate-300 transition-colors hover:bg-slate-200"><title>Open</title><path d="${ks}" fill="currentcolor"></path></svg>`,c,d,$,w,g=re(n[30].cells);const m=p=>p[34].id;for(let p=0;p<g.length;p+=1){let b=bt(n,g,p),M=m(b);s.set(M,t[p]=yt(M,b))}let f=[n[33],{class:"h-24 cursor-pointer hover:bg-slate-100"}],u={};for(let p=0;p<f.length;p+=1)u=le(u,f[p]);function h(){return n[19](n[30])}return{c(){e=F("tr");for(let p=0;p<t.length;p+=1)t[p].c();r=L(),l=F("td"),o=L(),i=F("td"),i.innerHTML=a,c=L(),this.h()},l(p){e=j(p,"TR",{class:!0});var b=B(e);for(let M=0;M<t.length;M+=1)t[M].l(b);r=N(b),l=j(b,"TD",{class:!0}),B(l).forEach(_),o=N(b),i=j(b,"TD",{class:!0,"data-svelte-h":!0}),me(i)!=="svelte-nb66sx"&&(i.innerHTML=a),b.forEach(_),c=N(p),this.h()},h(){v(l,"class","w-full border-b border-slate-300"),v(i,"class","border-b border-slate-300"),ce(e,u)},m(p,b){I(p,e,b);for(let M=0;M<t.length;M+=1)t[M]&&t[M].m(e,null);y(e,r),y(e,l),y(e,o),y(e,i),I(p,c,b),d=!0,$||(w=se(e,"click",h),$=!0)},p(p,b){n=p,b[0]&128|b[1]&64&&(g=re(n[30].cells),X(),t=Ae(t,b,m,1,n,g,s,e,Le,yt,r,bt),x()),ce(e,u=he(f,[b[1]&4&&n[33],{class:"h-24 cursor-pointer hover:bg-slate-100"}]))},i(p){if(!d){for(let b=0;b<g.length;b+=1)T(t[b]);d=!0}},o(p){for(let b=0;b<t.length;b+=1)R(t[b]);d=!1},d(p){p&&(_(e),_(c));for(let b=0;b<t.length;b+=1)t[b].d();$=!1,w()}}}function Et(n,e){let t,s,r;return s=new Be({props:{rowAttrs:e[30].attrs(),$$slots:{default:[il,({rowAttrs:l})=>({33:l}),({rowAttrs:l})=>[0,l?4:0]]},$$scope:{ctx:e}}}),{key:n,first:null,c(){t=V(),G(s.$$.fragment),this.h()},l(l){t=V(),W(s.$$.fragment,l),this.h()},h(){this.first=t},m(l,o){I(l,t,o),K(s,l,o),r=!0},p(l,o){e=l;const i={};o[0]&128&&(i.rowAttrs=e[30].attrs()),o[0]&129|o[1]&8196&&(i.$$scope={dirty:o,ctx:e}),s.$set(i)},i(l){r||(T(s.$$.fragment,l),r=!0)},o(l){R(s.$$.fragment,l),r=!1},d(l){l&&_(t),q(s,l)}}}function al(n){let e,t,s,r="Column settings",l,o,i="Drag and drop to re-order, toggle box for visibility.",a,c,d,$,w,g,m,f,u,h,p,b=[],M=new Map,S,z,U=[],be=new Map,ae;d=new Xr({props:{list:n[3],$$slots:{default:[tl,({item:k})=>({43:k}),({item:k})=>[0,k?4096:0]]},$$scope:{ctx:n}}}),d.$on("sort",n[13]),g=new Nt({props:{class:"text-white",$$slots:{default:[sl]},$$scope:{ctx:n}}}),g.$on("click",n[17]);let ue=re(n[5]);const Ee=k=>k[38].id;for(let k=0;k<ue.length;k+=1){let D=vt(n,ue,k),O=Ee(D);M.set(O,b[k]=kt(O,D))}let fe=re(n[7]);const ve=k=>k[30].id;for(let k=0;k<fe.length;k+=1){let D=mt(n,fe,k),O=ve(D);be.set(O,U[k]=Et(O,D))}let pe=[n[6]],$e={};for(let k=0;k<pe.length;k+=1)$e=le($e,pe[k]);let Ce=[n[4],{class:"table-auto z-0 w-full text-center text-base text-slate-800"}],A={};for(let k=0;k<Ce.length;k+=1)A=le(A,Ce[k]);return{c(){e=F("div"),t=F("div"),s=F("span"),s.textContent=r,l=L(),o=F("span"),o.textContent=i,a=L(),c=F("div"),G(d.$$.fragment),$=L(),w=F("div"),G(g.$$.fragment),f=L(),u=F("div"),h=F("table"),p=F("thead");for(let k=0;k<b.length;k+=1)b[k].c();S=L(),z=F("tbody");for(let k=0;k<U.length;k+=1)U[k].c();this.h()},l(k){e=j(k,"DIV",{class:!0});var D=B(e);t=j(D,"DIV",{class:!0});var O=B(t);s=j(O,"SPAN",{class:!0,"data-svelte-h":!0}),me(s)!=="svelte-1k4dd0o"&&(s.textContent=r),l=N(O),o=j(O,"SPAN",{class:!0,"data-svelte-h":!0}),me(o)!=="svelte-du859n"&&(o.textContent=i),a=N(O),c=j(O,"DIV",{class:!0});var Te=B(c);W(d.$$.fragment,Te),Te.forEach(_),$=N(O),w=j(O,"DIV",{class:!0});var Me=B(w);W(g.$$.fragment,Me),Me.forEach(_),O.forEach(_),D.forEach(_),f=N(k),u=j(k,"DIV",{class:!0});var E=B(u);h=j(E,"TABLE",{class:!0});var H=B(h);p=j(H,"THEAD",{});var P=B(p);for(let Y=0;Y<b.length;Y+=1)b[Y].l(P);P.forEach(_),S=N(H),z=j(H,"TBODY",{});var Q=B(z);for(let Y=0;Y<U.length;Y+=1)U[Y].l(Q);Q.forEach(_),H.forEach(_),E.forEach(_),this.h()},h(){v(s,"class","text-3xl font-bold mb-4"),v(o,"class","text-sm italic text-gray-500 font-medium mb-3"),v(c,"class","flex flex-col space-y-2"),v(w,"class","my-6 flex justify-end items-end"),v(t,"class","px-12 pt-10 flex flex-col bg-white border border-slate-300 shadow-sm shadow-slate-300 rounded-lg"),v(e,"class",m="fixed w-full h-full z-20 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-500/30 backdrop:blur-lg flex items-center justify-center font-Montserrat "+(n[2]?"block":"hidden")),ce(z,$e),ce(h,A),v(u,"class","h-[75vh] w-full overflow-y-auto overflow-x-auto rounded-sm bg-white border border-slate-300 shadow-sm shadow-slate-300 font-Montserrat")},m(k,D){I(k,e,D),y(e,t),y(t,s),y(t,l),y(t,o),y(t,a),y(t,c),K(d,c,null),y(t,$),y(t,w),K(g,w,null),I(k,f,D),I(k,u,D),y(u,h),y(h,p);for(let O=0;O<b.length;O+=1)b[O]&&b[O].m(p,null);y(h,S),y(h,z);for(let O=0;O<U.length;O+=1)U[O]&&U[O].m(z,null);ae=!0},p(k,D){const O={};D[0]&8&&(O.list=k[3]),D[0]&2|D[1]&12288&&(O.$$scope={dirty:D,ctx:k}),d.$set(O);const Te={};D[1]&8192&&(Te.$$scope={dirty:D,ctx:k}),g.$set(Te),(!ae||D[0]&4&&m!==(m="fixed w-full h-full z-20 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-gray-500/30 backdrop:blur-lg flex items-center justify-center font-Montserrat "+(k[2]?"block":"hidden")))&&v(e,"class",m),D[0]&36|D[1]&68&&(ue=re(k[5]),X(),b=Ae(b,D,Ee,1,k,ue,M,p,Le,kt,null,vt),x()),D[0]&32897|D[1]&68&&(fe=re(k[7]),X(),U=Ae(U,D,ve,1,k,fe,be,z,Le,Et,null,mt),x()),ce(z,$e=he(pe,[D[0]&64&&k[6]])),ce(h,A=he(Ce,[D[0]&16&&k[4],{class:"table-auto z-0 w-full text-center text-base text-slate-800"}]))},i(k){if(!ae){T(d.$$.fragment,k),T(g.$$.fragment,k);for(let D=0;D<ue.length;D+=1)T(b[D]);for(let D=0;D<fe.length;D+=1)T(U[D]);ae=!0}},o(k){R(d.$$.fragment,k),R(g.$$.fragment,k);for(let D=0;D<b.length;D+=1)R(b[D]);for(let D=0;D<U.length;D+=1)R(U[D]);ae=!1},d(k){k&&(_(e),_(f),_(u)),q(d),q(g);for(let D=0;D<b.length;D+=1)b[D].d();for(let D=0;D<U.length;D+=1)U[D].d()}}}function cl(n,e,t){let s,r,l,o,i,a,{items:c}=e;const d=Se(c.rows),$=qr(d,{colOrder:xr(),hideCols:el()});let w=[],g=[],m=[];Object.values(c.columns).forEach(A=>{w.push($.column({header:A.name,cell:Ur[A.type],accessor:A.name})),A.type==="image"||A.type==="video"?g.push(A.name):m.push(A.name)});let f=[...g,...m];const u=$.createColumns(w),{headerRows:h,rows:p,tableAttrs:b,tableBodyAttrs:M,pluginStates:S}=$.createViewModel(u);ye(n,h,A=>t(5,o=A)),ye(n,p,A=>t(7,a=A)),ye(n,b,A=>t(4,l=A)),ye(n,M,A=>t(6,i=A));const{columnIdOrder:z}=S.colOrder;ye(n,z,A=>t(3,r=A)),Ue(z,r=[...f],r);const U=A=>{Ue(z,r=A.detail,r)},{hiddenColumnIds:be}=S.hideCols;ye(n,be,A=>t(20,s=A));let ae=Object.fromEntries(r.map(A=>[A,!0]));const ue=We();function Ee(A){ue("selectItem",A)}let fe=!1;function ve(A,k){n.$$.not_equal(ae[k],A)&&(ae[k]=A,t(1,ae))}const pe=()=>{t(2,fe=!1)},$e=()=>{t(2,fe=!0)},Ce=A=>{Ee(c.rows[A.id].id)};return n.$$set=A=>{"items"in A&&t(0,c=A.items)},n.$$.update=()=>{n.$$.dirty[0]&2&&Ue(be,s=Object.entries(ae).filter(([,A])=>!A).map(([A])=>A),s)},[c,ae,fe,r,l,o,i,a,h,p,b,M,z,U,be,Ee,ve,pe,$e,Ce]}class ul extends oe{constructor(e){super(),ie(this,e,cl,al,ne,{items:0},null,[-1,-1])}}function Ct(n,e,t){const s=n.slice();return s[18]=e[t],s}function Tt(n){let e,t,s,r,l,o,i,a,c,d,$,w=n[7].length>0&&fl(n);const g=[pl,hl,dl],m=[];function f(h,p){return h[1]?0:h[0].isErrored?2:1}i=f(n),a=m[i]=g[i](n);let u=!n[0].isErrored&&St(n);return{c(){e=F("div"),t=F("div"),s=F("div"),r=L(),l=F("div"),w&&w.c(),o=L(),a.c(),c=L(),u&&u.c(),d=V(),this.h()},l(h){e=j(h,"DIV",{class:!0});var p=B(e);t=j(p,"DIV",{class:!0});var b=B(t);s=j(b,"DIV",{class:!0}),B(s).forEach(_),r=N(b),l=j(b,"DIV",{class:!0});var M=B(l);w&&w.l(M),M.forEach(_),b.forEach(_),o=N(p),a.l(p),p.forEach(_),c=N(h),u&&u.l(h),d=V(),this.h()},h(){v(s,"class","flex-grow"),v(l,"class","relative flex items-center"),v(t,"class","py-5 h-20 flex space-x-2 items-center"),v(e,"class","w-full h-full flex flex-col")},m(h,p){I(h,e,p),y(e,t),y(t,s),y(t,r),y(t,l),w&&w.m(l,null),y(e,o),m[i].m(e,null),I(h,c,p),u&&u.m(h,p),I(h,d,p),$=!0},p(h,p){h[7].length>0&&w.p(h,p);let b=i;i=f(h),i===b?m[i].p(h,p):(X(),R(m[b],1,1,()=>{m[b]=null}),x(),a=m[i],a?a.p(h,p):(a=m[i]=g[i](h),a.c()),T(a,1),a.m(e,null)),h[0].isErrored?u&&(u.d(1),u=null):u?u.p(h,p):(u=St(h),u.c(),u.m(d.parentNode,d))},i(h){$||(T(a),$=!0)},o(h){R(a),$=!1},d(h){h&&(_(e),_(c),_(d)),w&&w.d(),m[i].d(),u&&u.d(h)}}}function fl(n){let e,t,s,r,l,o,i,a,c,d,$,w=re(n[7]),g=[];for(let f=0;f<w.length;f+=1)g[f]=It(Ct(n,w,f));let m=n[5]!==""&&Dt(n);return{c(){e=F("select");for(let f=0;f<g.length;f+=1)g[f].c();t=L(),s=F("div"),r=F("input"),o=L(),i=Fe("svg"),a=Fe("path"),c=L(),m&&m.c(),this.h()},l(f){e=j(f,"SELECT",{class:!0});var u=B(e);for(let b=0;b<g.length;b+=1)g[b].l(u);u.forEach(_),t=N(f),s=j(f,"DIV",{class:!0});var h=B(s);r=j(h,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),o=N(h),i=je(h,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var p=B(i);a=je(p,"path",{d:!0,fill:!0}),B(a).forEach(_),p.forEach(_),c=N(h),m&&m.l(h),h.forEach(_),this.h()},h(){v(e,"class","h-10 px-4 mx-4 border rounded bg-slate-50 border-slate-300"),v(r,"id","sem-search-input"),v(r,"type","text"),r.value=n[5],v(r,"placeholder",l="Semantic search using "+n[6]),v(r,"class","h-10 pl-10 pr-4 rounded-full border text-slate-800 placeholder-slate-500 bg-slate-50 border-slate-300 shadow-slate-300 accent-main"),v(a,"d",ys),v(a,"fill","currentcolor"),v(i,"xmlns","http://www.w3.org/2000/svg"),v(i,"height","48"),v(i,"viewBox","0 -960 960 960"),v(i,"width","48"),v(i,"class","absolute left-2 h-5 w-5 text-slate-800 pointer-events-none"),v(s,"class","relative flex items-center")},m(f,u){I(f,e,u);for(let h=0;h<g.length;h+=1)g[h]&&g[h].m(e,null);I(f,t,u),I(f,s,u),y(s,r),y(s,o),y(s,i),y(i,a),y(s,c),m&&m.m(s,null),d||($=se(r,"change",n[14]),d=!0)},p(f,u){if(u&192){w=re(f[7]);let h;for(h=0;h<w.length;h+=1){const p=Ct(f,w,h);g[h]?g[h].p(p,u):(g[h]=It(p),g[h].c(),g[h].m(e,null))}for(;h<g.length;h+=1)g[h].d(1);g.length=w.length}u&32&&r.value!==f[5]&&(r.value=f[5]),u&64&&l!==(l="Semantic search using "+f[6])&&v(r,"placeholder",l),f[5]!==""?m?m.p(f,u):(m=Dt(f),m.c(),m.m(s,null)):m&&(m.d(1),m=null)},d(f){f&&(_(e),_(t),_(s)),Pt(g,f),m&&m.d(),d=!1,$()}}}function It(n){let e,t=n[18]+"",s,r;return{c(){e=F("option"),s=ee(t),r=L(),this.h()},l(l){e=j(l,"OPTION",{});var o=B(e);s=te(o,t),r=N(o),o.forEach(_),this.h()},h(){e.__value=n[6],it(e,e.__value)},m(l,o){I(l,e,o),y(e,s),y(e,r)},p(l,o){o&64&&(e.__value=l[6],it(e,e.__value))},d(l){l&&_(e)}}}function Dt(n){let e,t=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-5 w-5 text-slate-800"><path d="${Es}" fill="currentcolor"></path></svg>`,s,r;return{c(){e=F("button"),e.innerHTML=t,this.h()},l(l){e=j(l,"BUTTON",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-wv2rtu"&&(e.innerHTML=t),this.h()},h(){v(e,"class","absolute right-2 p-1 rounded-full transition-colors hover:bg-slate-300")},m(l,o){I(l,e,o),s||(r=se(e,"click",n[9]),s=!0)},p:J,d(l){l&&_(e),s=!1,r()}}}function dl(n){let e,t,s="Error: dataset items could not be loaded",r,l,o;return l=new Rs({props:{$$slots:{default:[_l]},$$scope:{ctx:n}}}),l.$on("click",n[9]),{c(){e=F("div"),t=F("p"),t.textContent=s,r=L(),G(l.$$.fragment),this.h()},l(i){e=j(i,"DIV",{class:!0});var a=B(e);t=j(a,"P",{"data-svelte-h":!0}),me(t)!=="svelte-lcj0vm"&&(t.textContent=s),r=N(a),W(l.$$.fragment,a),a.forEach(_),this.h()},h(){v(e,"class","flex flex-col gap-5 justify-center align-middle text-center max-w-xs m-auto mt-10")},m(i,a){I(i,e,a),y(e,t),y(e,r),K(l,e,null),o=!0},p(i,a){const c={};a&2097152&&(c.$$scope={dirty:a,ctx:i}),l.$set(c)},i(i){o||(T(l.$$.fragment,i),o=!0)},o(i){R(l.$$.fragment,i),o=!1},d(i){i&&_(e),q(l)}}}function hl(n){let e,t;return e=new ul({props:{items:n[0].table_data}}),e.$on("selectItem",n[15]),{c(){G(e.$$.fragment)},l(s){W(e.$$.fragment,s)},m(s,r){K(e,s,r),t=!0},p(s,r){const l={};r&1&&(l.items=s[0].table_data),e.$set(l)},i(s){t||(T(e.$$.fragment,s),t=!0)},o(s){R(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function pl(n){let e,t,s;return t=new Cs({props:{class:"animate-spin"}}),{c(){e=F("div"),G(t.$$.fragment),this.h()},l(r){e=j(r,"DIV",{class:!0});var l=B(e);W(t.$$.fragment,l),l.forEach(_),this.h()},h(){v(e,"class","flex-grow flex justify-center items-center")},m(r,l){I(r,e,l),K(t,e,null),s=!0},p:J,i(r){s||(T(t.$$.fragment,r),s=!0)},o(r){R(t.$$.fragment,r),s=!1},d(r){r&&_(e),q(t)}}}function _l(n){let e;return{c(){e=ee("Try again")},l(t){e=te(t,"Try again")},m(t,s){I(t,e,s)},d(t){t&&_(e)}}}function St(n){let e,t,s,r=1+n[3]*(n[2]-1)+"",l,o,i=Math.min(n[3]*n[2],n[0].pagination.total_size)+"",a,c,d=n[0].pagination.total_size+"",$,w,g=n[0].pagination.total_size>n[3]&&Ft(n),m=n[0].pagination.total_size>n[3]&&jt(n);return{c(){e=F("div"),g&&g.c(),t=L(),s=F("span"),l=ee(r),o=ee(" - "),a=ee(i),c=ee(` of
          `),$=ee(d),w=L(),m&&m.c(),this.h()},l(f){e=j(f,"DIV",{class:!0});var u=B(e);g&&g.l(u),t=N(u),s=j(u,"SPAN",{class:!0});var h=B(s);l=te(h,r),o=te(h," - "),a=te(h,i),c=te(h,` of
          `),$=te(h,d),h.forEach(_),w=N(u),m&&m.l(u),u.forEach(_),this.h()},h(){v(s,"class","mx-4"),v(e,"class","w-full py-5 h-20 flex justify-center items-center text-slate-800")},m(f,u){I(f,e,u),g&&g.m(e,null),y(e,t),y(e,s),y(s,l),y(s,o),y(s,a),y(s,c),y(s,$),y(e,w),m&&m.m(e,null)},p(f,u){f[0].pagination.total_size>f[3]?g?g.p(f,u):(g=Ft(f),g.c(),g.m(e,t)):g&&(g.d(1),g=null),u&12&&r!==(r=1+f[3]*(f[2]-1)+"")&&ge(l,r),u&13&&i!==(i=Math.min(f[3]*f[2],f[0].pagination.total_size)+"")&&ge(a,i),u&1&&d!==(d=f[0].pagination.total_size+"")&&ge($,d),f[0].pagination.total_size>f[3]?m?m.p(f,u):(m=jt(f),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(f){f&&_(e),g&&g.d(),m&&m.d()}}}function Ft(n){let e,t=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Ts}" fill="currentcolor"></path></svg>`,s,r,l=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Is}" fill="currentcolor"></path></svg>`,o,i;return{c(){e=F("button"),e.innerHTML=t,s=L(),r=F("button"),r.innerHTML=l},l(a){e=j(a,"BUTTON",{"data-svelte-h":!0}),me(e)!=="svelte-18zo4xr"&&(e.innerHTML=t),s=N(a),r=j(a,"BUTTON",{"data-svelte-h":!0}),me(r)!=="svelte-1n17f1n"&&(r.innerHTML=l)},m(a,c){I(a,e,c),I(a,s,c),I(a,r,c),o||(i=[se(e,"click",n[10]),se(r,"click",n[11])],o=!0)},p:J,d(a){a&&(_(e),_(s),_(r)),o=!1,Ne(i)}}}function jt(n){let e,t=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Ds}" fill="currentcolor"></path></svg>`,s,r,l=`<svg xmlns="http://www.w3.org/2000/svg" height="48" viewBox="0 -960 960 960" width="48" class="h-8 w-8 p-1 rounded-full transition-colors hover:bg-slate-300"><path d="${Ss}" fill="currentcolor"></path></svg>`,o,i;return{c(){e=F("button"),e.innerHTML=t,s=L(),r=F("button"),r.innerHTML=l},l(a){e=j(a,"BUTTON",{"data-svelte-h":!0}),me(e)!=="svelte-1d9o6d7"&&(e.innerHTML=t),s=N(a),r=j(a,"BUTTON",{"data-svelte-h":!0}),me(r)!=="svelte-92h5yb"&&(r.innerHTML=l)},m(a,c){I(a,e,c),I(a,s,c),I(a,r,c),o||(i=[se(e,"click",n[12]),se(r,"click",n[13])],o=!0)},p:J,d(a){a&&(_(e),_(s),_(r)),o=!1,Ne(i)}}}function Rt(n){let e,t;return e=new js({props:{message:"Error while retrieving dataset items.",details:"Please look at the application logs for more information, and report this issue if the error persists."}}),e.$on("confirm",n[16]),{c(){G(e.$$.fragment)},l(s){W(e.$$.fragment,s)},m(s,r){K(e,s,r),t=!0},p:J,i(s){t||(T(e.$$.fragment,s),t=!0)},o(s){R(e.$$.fragment,s),t=!1},d(s){q(e,s)}}}function gl(n){let e,t,s,r,l=n[0].pagination&&Tt(n),o=n[4]&&Rt(n),i=ml;return{c(){e=F("div"),l&&l.c(),t=L(),o&&o.c(),s=L(),this.h()},l(a){e=j(a,"DIV",{class:!0});var c=B(e);l&&l.l(c),t=N(c),o&&o.l(c),s=N(c),c.forEach(_),this.h()},h(){v(e,"class","w-full px-20 bg-slate-50 flex flex-col text-slate-800 min-h-[calc(100vh-80px)]")},m(a,c){I(a,e,c),l&&l.m(e,null),y(e,t),o&&o.m(e,null),y(e,s),r=!0},p(a,[c]){a[0].pagination?l?(l.p(a,c),c&1&&T(l,1)):(l=Tt(a),l.c(),T(l,1),l.m(e,t)):l&&(X(),R(l,1,1,()=>{l=null}),x()),a[4]?o?(o.p(a,c),c&16&&T(o,1)):(o=Rt(a),o.c(),T(o,1),o.m(e,s)):o&&(X(),R(o,1,1,()=>{o=null}),x())},i(a){r||(T(l),T(o),T(i),r=!0)},o(a){R(l),R(o),R(i),r=!1},d(a){a&&_(e),l&&l.d(),o&&o.d()}}}let ml=!1;function bl(n,e,t){let{selectedDataset:s}=e,r=!1,l,o;De.subscribe(S=>{t(2,l=(S==null?void 0:S.currentPage)||gs),t(3,o=(S==null?void 0:S.pageSize)||ms)});let i=!1,a="",c;const d=[];if(s.semantic_search.length>0)for(const S of s.semantic_search)c||(c=S),d.push(S);const $=We();function w(S){$("selectItem",S)}function g(){document.getElementById("sem-search-input").value="",p()}function m(){l>1&&(t(1,r=!0),De.update(S=>({...S,pageSize:(S==null?void 0:S.pageSize)||o,currentPage:1})))}function f(){l>1&&(t(1,r=!0),De.update(S=>({...S,pageSize:(S==null?void 0:S.pageSize)||o,currentPage:l-1})))}function u(){s.pagination.total_size>l*o&&(t(1,r=!0),De.update(S=>({...S,pageSize:(S==null?void 0:S.pageSize)||o,currentPage:l+1})))}function h(){s.pagination.total_size>l*o&&(t(1,r=!0),De.update(S=>({...S,pageSize:(S==null?void 0:S.pageSize)||o,currentPage:Math.ceil((s.pagination.total_size||1)/o)})))}function p(){t(5,a=document.getElementById("sem-search-input").value);let S={model:c,search:a};t(1,r=!0),De.update(z=>({...z,currentPage:1,query:S}))}const b=S=>w(S.detail),M=()=>t(4,i=!1);return n.$$set=S=>{"selectedDataset"in S&&t(0,s=S.selectedDataset)},n.$$.update=()=>{n.$$.dirty&1&&s.table_data&&t(1,r=!1)},[s,r,l,o,i,a,c,d,w,g,m,f,u,h,p,b,M]}class vl extends oe{constructor(e){super(),ie(this,e,bl,gl,ne,{selectedDataset:0})}}function At(n){let e,t,s;return t=new vl({props:{selectedDataset:n[0]}}),t.$on("selectItem",n[1]),{c(){e=F("div"),G(t.$$.fragment),this.h()},l(r){e=j(r,"DIV",{class:!0});var l=B(e);W(t.$$.fragment,l),l.forEach(_),this.h()},h(){v(e,"class","pt-20 h-1 min-h-screen")},m(r,l){I(r,e,l),K(t,e,null),s=!0},p(r,l){const o={};l&1&&(o.selectedDataset=r[0]),t.$set(o)},i(r){s||(T(t.$$.fragment,r),s=!0)},o(r){R(t.$$.fragment,r),s=!1},d(r){r&&_(e),q(t)}}}function $l(n){var r;let e,t,s=((r=n[0])==null?void 0:r.table_data)&&At(n);return{c(){s&&s.c(),e=V()},l(l){s&&s.l(l),e=V()},m(l,o){s&&s.m(l,o),I(l,e,o),t=!0},p(l,[o]){var i;(i=l[0])!=null&&i.table_data?s?(s.p(l,o),o&1&&T(s,1)):(s=At(l),s.c(),T(s,1),s.m(e.parentNode,e)):s&&(X(),R(s,1,1,()=>{s=null}),x())},i(l){t||(T(s),t=!0)},o(l){R(s),t=!1},d(l){l&&_(e),s&&s.d(l)}}}function wl(n,e,t){let s,r,l;const o=async i=>{await hs(`/${l.id}/dataset/${i.detail}`)};return os(()=>{s()}),n.$$.update=()=>{n.$$.dirty&4&&(s=De.subscribe(i=>{r&&Hs(r,i.currentPage,i.pageSize,i.query).then(a=>t(0,l=a)).catch(a=>console.log("ERROR: Couldn't get dataset items",a))}))},ps.subscribe(i=>t(2,r=i.params.dataset)),[l,o,r]}class Ml extends oe{constructor(e){super(),ie(this,e,wl,$l,ne,{})}}export{Ml as component,Al as universal};
