import{s as F,E as H,K as R,D as J,G as Q,H as X,I as x,e as N,a as C,c as L,b as S,C as ue,g as T,f as h,p as v,i as M,h as D,n as te,t as ne,w as Ee,d as se,x as Ne,z as ve,j as de,l as me,O as He,B as je,L as Ue,k as ce,a7 as Ke,o as Re}from"../chunks/scheduler.BHOyQEyZ.js";import{S as W,i as q,b as A,d as P,m as y,a as g,t as I,e as V,g as Y,c as Z}from"../chunks/index.BAR3Oovo.js";import{p as he}from"../chunks/stores.CpocSgLq.js";import{D as Oe}from"../chunks/command.B0CVUGKN.js";import{I as ae,a as Fe,L as We}from"../chunks/loader-2.BhS4tsx3.js";import{g as re,a as le,d as ge,D as qe,e as Le,c as fe,s as pe,i as Ge,b as Be,f as Ye,m as Se}from"../chunks/datasetStores.BxLs1CZU.js";import{g as Ze,T as $e,C as Je}from"../chunks/TooltipIconButton.jLVnX7I3.js";import{g as _e}from"../chunks/entry.Df3S6qAj.js";import{p as Qe}from"../chunks/pixano.B9u33kEZ.js";import{P as Xe}from"../chunks/PrimaryButton.CfygmfaN.js";const xe=!1,et=!1,tn=Object.freeze(Object.defineProperty({__proto__:null,prerender:xe,ssr:et},Symbol.toStringTag,{value:"Module"}));async function tt(l){const e=[];for(let t=0;;t+=1e3)try{const a=await fetch(`/items/${l}/?limit=1000&skip=${t}`);if(a.ok){const s=await a.json();if(e.push(...s.map(r=>r.id)),s&&s.length<1e3)break}else{a.status!=404&&console.log("api.getDatasetItemsIds -",a.status,a.statusText,await a.text());break}}catch(a){console.log("api.getDatasetItemsIds -",a)}return e}async function nt(){let l,e;try{const n=await fetch("/datasets/info");n.ok?(l=await n.json(),e=l.map(t=>new Oe(t))):(e=[],console.log("api.getDatasetsInfo -",n.status,n.statusText,await n.text()))}catch(n){e=[],console.log("api.getDatasetsInfo -",n)}return e}async function st(){let l;try{const e=await fetch("/models");e.ok?l=await e.json():(l=[],console.log("api.getModels -",e.status,e.statusText))}catch(e){l=[],console.log("api.getModels -",e)}return l}function at(l){let e;const n=l[2].default,t=J(n,l,l[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,s){t&&t.m(a,s),e=!0},p(a,s){t&&t.p&&(!e||s&8)&&Q(t,n,a,a[3],e?x(n,a[3],s,null):X(a[3]),null)},i(a){e||(g(t,a),e=!0)},o(a){I(t,a),e=!1},d(a){t&&t.d(a)}}}function rt(l){let e,n;const t=[{name:"arrow-left-circle"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[at]},$$scope:{ctx:l}};for(let s=0;s<t.length;s+=1)a=H(a,t[s]);return e=new ae({props:a}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){y(e,s,r),n=!0},p(s,[r]){const c=r&3?re(t,[t[0],r&2&&le(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:s}),e.$set(c)},i(s){n||(g(e.$$.fragment,s),n=!0)},o(s){I(e.$$.fragment,s),n=!1},d(s){V(e,s)}}}function lt(l,e,n){let{$$slots:t={},$$scope:a}=e;const s=[["circle",{cx:"12",cy:"12",r:"10"}],["path",{d:"M16 12H8"}],["path",{d:"m12 8-4 4 4 4"}]];return l.$$set=r=>{n(1,e=H(H({},e),R(r))),"$$scope"in r&&n(3,a=r.$$scope)},e=R(e),[s,e,t,a]}class ot extends W{constructor(e){super(),q(this,e,lt,rt,F,{})}}function it(l){let e;const n=l[2].default,t=J(n,l,l[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,s){t&&t.m(a,s),e=!0},p(a,s){t&&t.p&&(!e||s&8)&&Q(t,n,a,a[3],e?x(n,a[3],s,null):X(a[3]),null)},i(a){e||(g(t,a),e=!0)},o(a){I(t,a),e=!1},d(a){t&&t.d(a)}}}function ct(l){let e,n;const t=[{name:"arrow-left"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[it]},$$scope:{ctx:l}};for(let s=0;s<t.length;s+=1)a=H(a,t[s]);return e=new ae({props:a}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){y(e,s,r),n=!0},p(s,[r]){const c=r&3?re(t,[t[0],r&2&&le(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:s}),e.$set(c)},i(s){n||(g(e.$$.fragment,s),n=!0)},o(s){I(e.$$.fragment,s),n=!1},d(s){V(e,s)}}}function ft(l,e,n){let{$$slots:t={},$$scope:a}=e;const s=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];return l.$$set=r=>{n(1,e=H(H({},e),R(r))),"$$scope"in r&&n(3,a=r.$$scope)},e=R(e),[s,e,t,a]}class ut extends W{constructor(e){super(),q(this,e,ft,ct,F,{})}}function dt(l){let e;const n=l[2].default,t=J(n,l,l[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,s){t&&t.m(a,s),e=!0},p(a,s){t&&t.p&&(!e||s&8)&&Q(t,n,a,a[3],e?x(n,a[3],s,null):X(a[3]),null)},i(a){e||(g(t,a),e=!0)},o(a){I(t,a),e=!1},d(a){t&&t.d(a)}}}function mt(l){let e,n;const t=[{name:"arrow-right"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[dt]},$$scope:{ctx:l}};for(let s=0;s<t.length;s+=1)a=H(a,t[s]);return e=new ae({props:a}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){y(e,s,r),n=!0},p(s,[r]){const c=r&3?re(t,[t[0],r&2&&le(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:s}),e.$set(c)},i(s){n||(g(e.$$.fragment,s),n=!0)},o(s){I(e.$$.fragment,s),n=!1},d(s){V(e,s)}}}function pt(l,e,n){let{$$slots:t={},$$scope:a}=e;const s=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];return l.$$set=r=>{n(1,e=H(H({},e),R(r))),"$$scope"in r&&n(3,a=r.$$scope)},e=R(e),[s,e,t,a]}class _t extends W{constructor(e){super(),q(this,e,pt,mt,F,{})}}function ht(l){let e;const n=l[2].default,t=J(n,l,l[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,s){t&&t.m(a,s),e=!0},p(a,s){t&&t.p&&(!e||s&8)&&Q(t,n,a,a[3],e?x(n,a[3],s,null):X(a[3]),null)},i(a){e||(g(t,a),e=!0)},o(a){I(t,a),e=!1},d(a){t&&t.d(a)}}}function gt(l){let e,n;const t=[{name:"database"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[ht]},$$scope:{ctx:l}};for(let s=0;s<t.length;s+=1)a=H(a,t[s]);return e=new ae({props:a}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){y(e,s,r),n=!0},p(s,[r]){const c=r&3?re(t,[t[0],r&2&&le(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:s}),e.$set(c)},i(s){n||(g(e.$$.fragment,s),n=!0)},o(s){I(e.$$.fragment,s),n=!1},d(s){V(e,s)}}}function $t(l,e,n){let{$$slots:t={},$$scope:a}=e;const s=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5"}],["path",{d:"M3 12A9 3 0 0 0 21 12"}]];return l.$$set=r=>{n(1,e=H(H({},e),R(r))),"$$scope"in r&&n(3,a=r.$$scope)},e=R(e),[s,e,t,a]}class vt extends W{constructor(e){super(),q(this,e,$t,gt,F,{})}}function bt(l){let e;const n=l[2].default,t=J(n,l,l[3],null);return{c(){t&&t.c()},l(a){t&&t.l(a)},m(a,s){t&&t.m(a,s),e=!0},p(a,s){t&&t.p&&(!e||s&8)&&Q(t,n,a,a[3],e?x(n,a[3],s,null):X(a[3]),null)},i(a){e||(g(t,a),e=!0)},o(a){I(t,a),e=!1},d(a){t&&t.d(a)}}}function wt(l){let e,n;const t=[{name:"home"},l[1],{iconNode:l[0]}];let a={$$slots:{default:[bt]},$$scope:{ctx:l}};for(let s=0;s<t.length;s+=1)a=H(a,t[s]);return e=new ae({props:a}),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){y(e,s,r),n=!0},p(s,[r]){const c=r&3?re(t,[t[0],r&2&&le(s[1]),r&1&&{iconNode:s[0]}]):{};r&8&&(c.$$scope={dirty:r,ctx:s}),e.$set(c)},i(s){n||(g(e.$$.fragment,s),n=!0)},o(s){I(e.$$.fragment,s),n=!1},d(s){V(e,s)}}}function It(l,e,n){let{$$slots:t={},$$scope:a}=e;const s=[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}],["polyline",{points:"9 22 9 12 15 12 15 22"}]];return l.$$set=r=>{n(1,e=H(H({},e),R(r))),"$$scope"in r&&n(3,a=r.$$scope)},e=R(e),[s,e,t,a]}class kt extends W{constructor(e){super(),q(this,e,It,wt,F,{})}}const Dt=""+new URL("../assets/pixano_white.BVKPSmmP.png",import.meta.url).href;function Ce(l){var be;let e,n,t=((be=l[0])==null?void 0:be.length)+"",a,s,r,c="datasets",o,f,E,i=l[0].reduce(Te,0)+"",b,k,u,p="items",m,d,w,$,z,O,K,_,j,G;return{c(){e=N("div"),n=N("span"),a=ne(t),s=C(),r=N("span"),r.textContent=c,o=C(),f=N("div"),E=N("span"),b=ne(i),k=C(),u=N("span"),u.textContent=p,m=C(),d=N("div"),w=N("div"),$=N("div"),z=N("input"),O=C(),K=Ee("svg"),_=Ee("path"),this.h()},l(B){e=L(B,"DIV",{class:!0});var U=S(e);n=L(U,"SPAN",{class:!0});var ee=S(n);a=se(ee,t),ee.forEach(h),s=T(U),r=L(U,"SPAN",{class:!0,"data-svelte-h":!0}),ue(r)!=="svelte-1royfdz"&&(r.textContent=c),U.forEach(h),o=T(B),f=L(B,"DIV",{class:!0});var oe=S(f);E=L(oe,"SPAN",{class:!0});var we=S(E);b=se(we,i),we.forEach(h),k=T(oe),u=L(oe,"SPAN",{class:!0,"data-svelte-h":!0}),ue(u)!=="svelte-3uc568"&&(u.textContent=p),oe.forEach(h),m=T(B),d=L(B,"DIV",{class:!0});var Ie=S(d);w=L(Ie,"DIV",{class:!0});var ke=S(w);$=L(ke,"DIV",{class:!0});var ie=S($);z=L(ie,"INPUT",{id:!0,type:!0,placeholder:!0,class:!0}),O=T(ie),K=Ne(ie,"svg",{xmlns:!0,height:!0,viewBox:!0,width:!0,class:!0});var De=S(K);_=Ne(De,"path",{d:!0,fill:!0}),S(_).forEach(h),De.forEach(h),ie.forEach(h),ke.forEach(h),Ie.forEach(h),this.h()},h(){v(n,"class","mr-2 text-4xl font-medium"),v(r,"class","text-xl font-medium"),v(e,"class","my-4 mr-8 p-4 pr-8 border rounded-lg border-primary-foreground"),v(E,"class","mr-2 text-4xl font-medium"),v(u,"class","text-xl font-medium"),v(f,"class","my-4 mr-8 p-4 pr-8 border rounded-lg border-primary-foreground"),v(z,"id","search-input"),v(z,"type","text"),v(z,"placeholder","Search datasets"),v(z,"class","h-10 pl-10 pr-4 rounded border border-primary-foreground bg-primary-foreground text-white placeholder-white font-medium focus:outline-none"),v(_,"d",Fe),v(_,"fill","white"),v(K,"xmlns","http://www.w3.org/2000/svg"),v(K,"height","48"),v(K,"viewBox","0 -960 960 960"),v(K,"width","48"),v(K,"class","absolute left-3 h-5 w-5 pointer-events-none"),v($,"class","h-20 relative flex items-center"),v(w,"class","flex items-center space-x-2"),v(d,"class","grow self-end flex flex-row justify-end items-end")},m(B,U){M(B,e,U),D(e,n),D(n,a),D(e,s),D(e,r),M(B,o,U),M(B,f,U),D(f,E),D(E,b),D(f,k),D(f,u),M(B,m,U),M(B,d,U),D(d,w),D(w,$),D($,z),D($,O),D($,K),D(K,_),j||(G=ve(z,"input",l[1]),j=!0)},p(B,U){var ee;U&1&&t!==(t=((ee=B[0])==null?void 0:ee.length)+"")&&de(a,t),U&1&&i!==(i=B[0].reduce(Te,0)+"")&&de(b,i)},d(B){B&&(h(e),h(o),h(f),h(m),h(d)),j=!1,G()}}}function Et(l){let e,n,t=`<img src="${Dt}" alt="Logo Pixano" class="w-7 h-7"/> <span class="text-2xl font-semibold text-slate-50 uppercase">Pixano</span>`,a,s,r=l[0]&&Ce(l);return{c(){e=N("header"),n=N("div"),n.innerHTML=t,a=C(),s=N("div"),r&&r.c(),this.h()},l(c){e=L(c,"HEADER",{class:!0});var o=S(e);n=L(o,"DIV",{class:!0,"data-svelte-h":!0}),ue(n)!=="svelte-4zxcmy"&&(n.innerHTML=t),a=T(o),s=L(o,"DIV",{class:!0});var f=S(s);r&&r.l(f),f.forEach(h),o.forEach(h),this.h()},h(){v(n,"class","flex gap-4 items-center"),v(s,"class","flex pt-4 h-36 w-full items-center flex-wrap text-slate-50"),v(e,"class","p-4 w-full h-fit pt-8 px-20 xl:px-60 flex flex-col justify-evenly bg-primary font-Montserrat z-10")},m(c,o){M(c,e,o),D(e,n),D(e,a),D(e,s),r&&r.m(s,null)},p(c,[o]){c[0]?r?r.p(c,o):(r=Ce(c),r.c(),r.m(s,null)):r&&(r.d(1),r=null)},i:te,o:te,d(c){c&&h(e),r&&r.d()}}}const Te=(l,e)=>l+e.num_items;function Nt(l,e,n){let{datasets:t}=e;const a=s=>{const r=s.currentTarget;ge.update((c=[])=>c.map(o=>({...o,isFiltered:!o.name.toLocaleLowerCase().includes(r.value.toLocaleLowerCase())})))};return l.$$set=s=>{"datasets"in s&&n(0,t=s.datasets)},[t,a]}class Lt extends W{constructor(e){super(),q(this,e,Nt,Et,F,{datasets:0})}}const St=(l,e,n)=>{const t=l.findIndex(a=>a===n);if(t!==-1){const a=e==="previous"?t-1:t+1;return a===-1?l[l.length-1]:a===l.length?l[0]:l[a]}},Ct=(l,e)=>{const n=l.findIndex(t=>t===e);return Math.floor(n/qe)+1},Me=[{name:"Dashboard",Icon:kt},{name:"Dataset",Icon:vt}],{window:Tt}=Ze;function Ae(l,e,n){const t=l.slice();return t[20]=e[n].name,t[21]=e[n].Icon,t}function Pe(l){let e,n,t,a=`<img src="${Qe}" alt="Logo Pixano" class="w-8 h-8 mx-2"/>`,s,r,c,o=l[4].name+"",f,E,i,b;return r=new $e({props:{tooltipContent:l[1]?"Back to dataset":"Back to home",$$slots:{default:[Mt]},$$scope:{ctx:l}}}),r.$on("click",l[9]),{c(){e=N("div"),n=N("div"),t=N("button"),t.innerHTML=a,s=C(),A(r.$$.fragment),c=C(),f=ne(o),this.h()},l(k){e=L(k,"DIV",{class:!0});var u=S(e);n=L(u,"DIV",{class:!0});var p=S(n);t=L(p,"BUTTON",{class:!0,"data-svelte-h":!0}),ue(t)!=="svelte-13o3zhj"&&(t.innerHTML=a),s=T(p),P(r.$$.fragment,p),c=T(p),f=se(p,o),p.forEach(h),u.forEach(h),this.h()},h(){v(t,"class","h-10 w-10"),v(n,"class","flex gap-4 items-center font-light"),v(e,"class","h-10 flex items-center font-semibold text-2xl")},m(k,u){M(k,e,u),D(e,n),D(n,t),D(n,s),y(r,n,null),D(n,c),D(n,f),E=!0,i||(b=ve(t,"click",l[13]),i=!0)},p(k,u){const p={};u&2&&(p.tooltipContent=k[1]?"Back to dataset":"Back to home"),u&16777216&&(p.$$scope={dirty:u,ctx:k}),r.$set(p),(!E||u&16)&&o!==(o=k[4].name+"")&&de(f,o)},i(k){E||(g(r.$$.fragment,k),E=!0)},o(k){I(r.$$.fragment,k),E=!1},d(k){k&&h(e),V(r),i=!1,b()}}}function Mt(l){let e,n;return e=new ot({}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function ye(l){let e,n,t,a;const s=[Pt,At],r=[];function c(o,f){return o[2]?0:1}return e=c(l),n=r[e]=s[e](l),{c(){n.c(),t=me()},l(o){n.l(o),t=me()},m(o,f){r[e].m(o,f),M(o,t,f),a=!0},p(o,f){let E=e;e=c(o),e===E?r[e].p(o,f):(Y(),I(r[E],1,1,()=>{r[E]=null}),Z(),n=r[e],n?n.p(o,f):(n=r[e]=s[e](o),n.c()),g(n,1),n.m(t.parentNode,t))},i(o){a||(g(n),a=!0)},o(o){I(n),a=!1},d(o){o&&h(t),r[e].d(o)}}}function At(l){let e,n,t,a,s,r,c;return n=new $e({props:{tooltipContent:"Previous item (shift + left arrow)",$$slots:{default:[yt]},$$scope:{ctx:l}}}),n.$on("click",l[14]),r=new $e({props:{tooltipContent:"Next item (shift + right arrow)",$$slots:{default:[Vt]},$$scope:{ctx:l}}}),r.$on("click",l[15]),{c(){e=N("div"),A(n.$$.fragment),t=C(),a=ne(l[1]),s=C(),A(r.$$.fragment),this.h()},l(o){e=L(o,"DIV",{class:!0});var f=S(e);P(n.$$.fragment,f),t=T(f),a=se(f,l[1]),s=T(f),P(r.$$.fragment,f),f.forEach(h),this.h()},h(){v(e,"class","flex items-center gap-4")},m(o,f){M(o,e,f),y(n,e,null),D(e,t),D(e,a),D(e,s),y(r,e,null),c=!0},p(o,f){const E={};f&16777216&&(E.$$scope={dirty:f,ctx:o}),n.$set(E),(!c||f&2)&&de(a,o[1]);const i={};f&16777216&&(i.$$scope={dirty:f,ctx:o}),r.$set(i)},i(o){c||(g(n.$$.fragment,o),g(r.$$.fragment,o),c=!0)},o(o){I(n.$$.fragment,o),I(r.$$.fragment,o),c=!1},d(o){o&&h(e),V(n),V(r)}}}function Pt(l){let e,n;return e=new We({props:{class:"animate-spin"}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},p:te,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function yt(l){let e,n;return e=new ut({}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Vt(l){let e,n;return e=new _t({}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function zt(l){let e,n,t,a,s;return e=new l[21]({props:{strokeWidth:1}}),{c(){A(e.$$.fragment),n=C(),t=ne(l[20]),a=C()},l(r){P(e.$$.fragment,r),n=T(r),t=se(r,l[20]),a=T(r)},m(r,c){y(e,r,c),M(r,n,c),M(r,t,c),M(r,a,c),s=!0},p:te,i(r){s||(g(e.$$.fragment,r),s=!0)},o(r){I(e.$$.fragment,r),s=!1},d(r){r&&(h(n),h(t),h(a)),V(e,r)}}}function Ve(l){var a;let e,n;function t(){return l[16](l[20])}return e=new Xe({props:{isSelected:(a=l[0])==null?void 0:a.includes(`/${l[20]}`.toLowerCase()),$$slots:{default:[zt]},$$scope:{ctx:l}}}),e.$on("click",t),{c(){A(e.$$.fragment)},l(s){P(e.$$.fragment,s)},m(s,r){y(e,s,r),n=!0},p(s,r){var o;l=s;const c={};r&1&&(c.isSelected=(o=l[0])==null?void 0:o.includes(`/${l[20]}`.toLowerCase())),r&16777216&&(c.$$scope={dirty:r,ctx:l}),e.$set(c)},i(s){n||(g(e.$$.fragment,s),n=!0)},o(s){I(e.$$.fragment,s),n=!1},d(s){V(e,s)}}}function ze(l){let e,n;return e=new Je({props:{message:"You have unsaved changes",confirm:"Save and continue",alternativeAction:"Continue without saving"}}),e.$on("confirm",l[7]),e.$on("alternative",l[8]),e.$on("cancel",l[17]),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},p:te,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Bt(l){let e,n,t,a,s,r,c,o,f,E,i=l[4]&&Pe(l),b=l[1]&&ye(l),k=Le(Me),u=[];for(let d=0;d<k.length;d+=1)u[d]=Ve(Ae(l,k,d));const p=d=>I(u[d],1,1,()=>{u[d]=null});let m=l[3]!=="none"&&ze(l);return{c(){e=N("header"),n=N("div"),i&&i.c(),t=C(),b&&b.c(),a=C(),s=N("div");for(let d=0;d<u.length;d+=1)u[d].c();r=C(),m&&m.c(),c=me(),this.h()},l(d){e=L(d,"HEADER",{class:!0});var w=S(e);n=L(w,"DIV",{class:!0});var $=S(n);i&&i.l($),t=T($),b&&b.l($),a=T($),s=L($,"DIV",{class:!0});var z=S(s);for(let O=0;O<u.length;O+=1)u[O].l(z);z.forEach(h),$.forEach(h),w.forEach(h),r=T(d),m&&m.l(d),c=me(),this.h()},h(){v(s,"class","flex gap-4"),v(n,"class","h-20 p-5 flex justify-between items-center shrink-0 bg-white border-b border-slate-200 shadow-sm text-slate-800"),v(e,"class","w-full fixed z-40 font-Montserrat")},m(d,w){M(d,e,w),D(e,n),i&&i.m(n,null),D(n,t),b&&b.m(n,null),D(n,a),D(n,s);for(let $=0;$<u.length;$+=1)u[$]&&u[$].m(s,null);M(d,r,w),m&&m.m(d,w),M(d,c,w),o=!0,f||(E=[ve(Tt,"keyup",l[6]),He(l[11].call(null,n))],f=!0)},p(d,[w]){if(d[4]?i?(i.p(d,w),w&16&&g(i,1)):(i=Pe(d),i.c(),g(i,1),i.m(n,t)):i&&(Y(),I(i,1,1,()=>{i=null}),Z()),d[1]?b?(b.p(d,w),w&2&&g(b,1)):(b=ye(d),b.c(),g(b,1),b.m(n,a)):b&&(Y(),I(b,1,1,()=>{b=null}),Z()),w&1041){k=Le(Me);let $;for($=0;$<k.length;$+=1){const z=Ae(d,k,$);u[$]?(u[$].p(z,w),g(u[$],1)):(u[$]=Ve(z),u[$].c(),g(u[$],1),u[$].m(s,null))}for(Y(),$=k.length;$<u.length;$+=1)p($);Z()}d[3]!=="none"?m?(m.p(d,w),w&8&&g(m,1)):(m=ze(d),m.c(),g(m,1),m.m(c.parentNode,c)):m&&(Y(),I(m,1,1,()=>{m=null}),Z())},i(d){if(!o){g(i),g(b);for(let w=0;w<k.length;w+=1)g(u[w]);g(m),o=!0}},o(d){I(i),I(b),u=u.filter(Boolean);for(let w=0;w<u.length;w+=1)I(u[w]);I(m),o=!1},d(d){d&&(h(e),h(r),h(c)),i&&i.d(),b&&b.d(),je(u,d),m&&m.d(d),f=!1,Ue(E)}}}function Ht(l,e,n){let t;ce(l,fe,_=>n(4,t=_));let{pageId:a}=e,{datasetItemsIds:s}=e,r,c,o,f="none",E="none";pe.subscribe(_=>o=_.canSave),Ge.subscribe(_=>{n(2,c=_)});const i=async _=>{const j=St(s,_,r);if(j){const G=`/${t.id}/dataset/${j}`;if(o)return E=j,n(3,f=G);n(1,r=j),await _e(G)}},b=async _=>{var j;return((j=_.target)==null?void 0:j.tagName)==="INPUT"?_.preventDefault():(_.shiftKey&&_.key==="ArrowLeft"?await i("previous"):_.shiftKey&&_.key==="ArrowRight"&&await i("next"),_.key)},k=async()=>{pe.update(_=>({..._,shouldSave:!0})),await u()},u=async()=>{E!=="none"&&(n(1,r=E),E="none"),await _e(f),n(3,f="none"),pe.set({canSave:!1,shouldSave:!1})},p=async()=>{r?(Be.update(_=>(_.currentPage=Ct(s,r),_)),await m(`/${t.id}/dataset`)):await m("/")},m=async _=>{if(o)return n(3,f=_);await _e(_)};function d(_){function j(G){o&&G.preventDefault()}return window.addEventListener("beforeunload",j),{destroy(){window.removeEventListener("beforeunload",j)}}}const w=()=>m("/"),$=()=>i("previous"),z=()=>i("next"),O=_=>m(`/${t.id}/${_.toLocaleLowerCase()}`),K=()=>n(3,f="none");return l.$$set=_=>{"pageId"in _&&n(0,a=_.pageId),"datasetItemsIds"in _&&n(12,s=_.datasetItemsIds)},he.subscribe(_=>{n(1,r=_.params.itemId)}),[a,r,c,f,t,i,b,k,u,p,m,d,s,w,$,z,O,K]}class jt extends W{constructor(e){super(),q(this,e,Ht,Bt,F,{pageId:0,datasetItemsIds:12})}}const Ut=""+new URL("../assets/favicon.OuiISzV3.ico",import.meta.url).href;function Kt(l){let e,n;return e=new jt({props:{pageId:l[2].route.id,datasetItemsIds:l[1]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},p(t,a){const s={};a&4&&(s.pageId=t[2].route.id),a&2&&(s.datasetItemsIds=t[1]),e.$set(s)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Rt(l){let e,n;return e=new Lt({props:{datasets:l[0]}}),{c(){A(e.$$.fragment)},l(t){P(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},p(t,a){const s={};a&1&&(s.datasets=t[0]),e.$set(s)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){I(e.$$.fragment,t),n=!1},d(t){V(e,t)}}}function Ot(l){let e,n,t,a,s,r,c,o,f;const E=[Rt,Kt],i=[];function b(p,m){return p[2].route.id==="/"?0:1}s=b(l),r=i[s]=E[s](l);const k=l[6].default,u=J(k,l,l[5],null);return{c(){e=N("link"),n=N("meta"),t=C(),a=N("div"),r.c(),c=C(),o=N("main"),u&&u.c(),this.h()},l(p){const m=Ke("svelte-8x3pw",document.head);e=L(m,"LINK",{rel:!0,type:!0,href:!0}),n=L(m,"META",{name:!0,content:!0}),m.forEach(h),t=T(p),a=L(p,"DIV",{class:!0});var d=S(a);r.l(d),c=T(d),o=L(d,"MAIN",{class:!0});var w=S(o);u&&u.l(w),w.forEach(h),d.forEach(h),this.h()},h(){v(e,"rel","icon"),v(e,"type","image/svg"),v(e,"href",Ut),document.title="Pixano",v(n,"name","description"),v(n,"content","Pixano app"),v(o,"class","h-1 min-h-screen bg-slate-50"),v(a,"class","app")},m(p,m){D(document.head,e),D(document.head,n),M(p,t,m),M(p,a,m),i[s].m(a,null),D(a,c),D(a,o),u&&u.m(o,null),f=!0},p(p,[m]){let d=s;s=b(p),s===d?i[s].p(p,m):(Y(),I(i[d],1,1,()=>{i[d]=null}),Z(),r=i[s],r?r.p(p,m):(r=i[s]=E[s](p),r.c()),g(r,1),r.m(a,c)),u&&u.p&&(!f||m&32)&&Q(u,k,p,p[5],f?x(k,p[5],m,null):X(p[5]),null)},i(p){f||(g(r),g(u,p),f=!0)},o(p){I(r),I(u,p),f=!1},d(p){p&&(h(t),h(a)),h(e),h(n),i[s].d(),u&&u.d(p)}}}function Ft(l,e,n){let t,a,s;ce(l,ge,i=>n(0,t=i)),ce(l,fe,i=>n(4,a=i)),ce(l,he,i=>n(2,s=i));let{$$slots:r={},$$scope:c}=e,o,f;Re(()=>{st().then(i=>Se.set(i)).catch(()=>Se.set([])),nt().then(i=>{ge.set(i)}).catch(i=>{console.error(i)})});const E=async i=>{i!==void 0&&n(1,f=await tt(i))};return l.$$set=i=>{"$$scope"in i&&n(5,c=i.$$scope)},l.$$.update=()=>{l.$$.dirty&25&&he.subscribe(i=>{if(n(3,o=i.params.dataset),o&&a==null){const b=t==null?void 0:t.find(k=>k.id===o);b&&fe.set(b)}}),l.$$.dirty&8&&E(o)},fe.subscribe(i=>{i&&Be.set(Ye)}),[t,f,s,o,a,c,r]}class nn extends W{constructor(e){super(),q(this,e,Ft,Ot,F,{})}}export{nn as component,tn as universal};
